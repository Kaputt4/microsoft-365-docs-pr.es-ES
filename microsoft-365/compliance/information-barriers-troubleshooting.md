---
title: Solución de problemas de barreras de información
description: Use este artículo como guía para solucionar problemas de barreras de información.
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
ms.collection:
- M365-security-compliance
localization_priority: None
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 39ac5c2f12b8947bce26d426cac83e57cd4c87ae
ms.sourcegitcommit: c10eb675da725830e9776d2a0566ba3622eb361c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/26/2021
ms.locfileid: "49980043"
---
# <a name="troubleshooting-information-barriers"></a><span data-ttu-id="aaee1-103">Solución de problemas de barreras de información</span><span class="sxs-lookup"><span data-stu-id="aaee1-103">Troubleshooting information barriers</span></span>

<span data-ttu-id="aaee1-104">[Las barreras de información](information-barriers.md) pueden ayudar a su organización a cumplir con los requisitos legales y las normativas del sector.</span><span class="sxs-lookup"><span data-stu-id="aaee1-104">[Information barriers](information-barriers.md) can help your organization remain compliant with legal requirements and industry regulations.</span></span> <span data-ttu-id="aaee1-105">Por ejemplo, con las barreras de información, puede restringir la comunicación entre grupos específicos de usuarios para evitar un conflicto de intereses u otros problemas.</span><span class="sxs-lookup"><span data-stu-id="aaee1-105">For example, with information barriers, you can restrict communication between specific groups of users to avoid a conflict of interest or other issues.</span></span> <span data-ttu-id="aaee1-106">(Para obtener más información sobre cómo configurar barreras de información, vea [Definir directivas para barreras de información).](information-barriers-policies.md)</span><span class="sxs-lookup"><span data-stu-id="aaee1-106">(To learn more about how to set up information barriers, see [Define policies for information barriers](information-barriers-policies.md).)</span></span>

<span data-ttu-id="aaee1-107">En caso de que los usuarios se tomen problemas inesperados después de que haya barreras de información, hay algunos pasos que puede seguir para resolver esos problemas.</span><span class="sxs-lookup"><span data-stu-id="aaee1-107">In the event that people run into unexpected issues after information barriers are in place, there are some steps you can take to resolve those issues.</span></span> <span data-ttu-id="aaee1-108">Use este artículo como guía.</span><span class="sxs-lookup"><span data-stu-id="aaee1-108">Use this article as a guide.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="aaee1-109">Para realizar las tareas descritas en este artículo, se le debe asignar un rol adecuado, como uno de los siguientes:</span><span class="sxs-lookup"><span data-stu-id="aaee1-109">To perform the tasks described in this article, you must be assigned an appropriate role, such as one of the following:</span></span><br/><span data-ttu-id="aaee1-110">- Administrador global de Microsoft 365 Enterprise</span><span class="sxs-lookup"><span data-stu-id="aaee1-110">- Microsoft 365 Enterprise Global Administrator</span></span><br/><span data-ttu-id="aaee1-111">- administrador global</span><span class="sxs-lookup"><span data-stu-id="aaee1-111">- global administrator</span></span><br/><span data-ttu-id="aaee1-112">- Administrador de cumplimiento</span><span class="sxs-lookup"><span data-stu-id="aaee1-112">- Compliance Administrator</span></span><br/><span data-ttu-id="aaee1-113">- Administración de cumplimiento de LAC (este es un nuevo rol)</span><span class="sxs-lookup"><span data-stu-id="aaee1-113">- IB Compliance Management (this is a new role!)</span></span><p><span data-ttu-id="aaee1-114">Para obtener más información acerca de los requisitos previos para las barreras de información, consulte [Requisitos previos (para directivas de barreras de información).](information-barriers-policies.md#prerequisites)</span><span class="sxs-lookup"><span data-stu-id="aaee1-114">To learn more about prerequisites for information barriers, see [Prerequisites (for information barrier policies)](information-barriers-policies.md#prerequisites).</span></span><p><span data-ttu-id="aaee1-115">Asegúrese de [conectarse a PowerShell del Centro & seguridad](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell)y cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="aaee1-115">Make sure to [connect to Security & Compliance Center PowerShell](https://docs.microsoft.com/powershell/exchange/connect-to-scc-powershell).</span></span>

## <a name="issue-users-are-unexpectedly-blocked-from-communicating-with-others-in-microsoft-teams"></a><span data-ttu-id="aaee1-116">Problema: Se bloquea inesperadamente a los usuarios para que no se comuniquen con otros usuarios en Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="aaee1-116">Issue: Users are unexpectedly blocked from communicating with others in Microsoft Teams</span></span> 

<span data-ttu-id="aaee1-117">En este caso, los usuarios están informando de problemas inesperados de comunicación con otros usuarios de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="aaee1-117">In this case, people are reporting unexpected issues communicating with others in Microsoft Teams.</span></span> <span data-ttu-id="aaee1-118">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="aaee1-118">Some examples are:</span></span>

- <span data-ttu-id="aaee1-119">Un usuario busca, pero no puede encontrar, otro usuario en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="aaee1-119">A user searches for, but is unable to find, another user in Microsoft Teams.</span></span>
- <span data-ttu-id="aaee1-120">Un usuario puede buscar, pero no seleccionar, otro usuario en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="aaee1-120">A user can find, but cannot select, another user in Microsoft Teams.</span></span>
- <span data-ttu-id="aaee1-121">Un usuario puede ver a otro usuario, pero no puede enviar mensajes a ese otro usuario en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="aaee1-121">A user can see another user, but cannot send messages to that other user in Microsoft Teams.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="aaee1-122">Qué hacer</span><span class="sxs-lookup"><span data-stu-id="aaee1-122">What to do</span></span>

<span data-ttu-id="aaee1-123">Determinar si los usuarios se ven afectados por una directiva de barreras de información.</span><span class="sxs-lookup"><span data-stu-id="aaee1-123">Determine whether the users are affected by an information barrier policy.</span></span> <span data-ttu-id="aaee1-124">En función de cómo se configuren las directivas, es posible que las barreras de información funcionen según lo esperado.</span><span class="sxs-lookup"><span data-stu-id="aaee1-124">Depending on how policies are configured, information barriers might be working as expected.</span></span> <span data-ttu-id="aaee1-125">O bien, es posible que tenga que refinar las directivas de su organización.</span><span class="sxs-lookup"><span data-stu-id="aaee1-125">Or, you might have to refine your organization's policies.</span></span>

1. <span data-ttu-id="aaee1-126">Use el **cmdlet Get-InformationBarrierRecipientStatus** con el parámetro Identity.</span><span class="sxs-lookup"><span data-stu-id="aaee1-126">Use the **Get-InformationBarrierRecipientStatus** cmdlet with the Identity parameter.</span></span> 

    |<span data-ttu-id="aaee1-127">**Sintaxis**</span><span class="sxs-lookup"><span data-stu-id="aaee1-127">**Syntax**</span></span>|<span data-ttu-id="aaee1-128">**Ejemplo**</span><span class="sxs-lookup"><span data-stu-id="aaee1-128">**Example**</span></span>|
    |:---------|:----------|
    | `Get-InformationBarrierRecipientStatus -Identity` <p> <span data-ttu-id="aaee1-129">Puede usar cualquier valor de identidad que identifique de forma exclusiva a cada destinatario, como Nombre, Alias, Nombre distintivo (DN), DN canónico, Dirección de correo electrónico o GUID.</span><span class="sxs-lookup"><span data-stu-id="aaee1-129">You can use any identity value that uniquely identifies each recipient, such as Name, Alias, Distinguished name (DN), Canonical DN, Email address, or GUID.</span></span> |`Get-InformationBarrierRecipientStatus -Identity meganb` <p> <span data-ttu-id="aaee1-130">En este ejemplo, estamos usando un alias (*meganb*) para el parámetro Identity.</span><span class="sxs-lookup"><span data-stu-id="aaee1-130">In this example, we are using an alias (*meganb*) for the Identity parameter.</span></span> <span data-ttu-id="aaee1-131">Este cmdlet devolverá información que indica si el usuario se ve afectado por una directiva de barreras de información.</span><span class="sxs-lookup"><span data-stu-id="aaee1-131">This cmdlet will return information that indicates whether the user is affected by an information barrier policy.</span></span> <span data-ttu-id="aaee1-132">(Busque \*ExoPolicyId: \<GUID> .)</span><span class="sxs-lookup"><span data-stu-id="aaee1-132">(Look for \*ExoPolicyId: \<GUID>.)</span></span> |

    <span data-ttu-id="aaee1-133">**Si los usuarios no están incluidos en las directivas de barreras de información, póngase en contacto con el soporte técnico.**</span><span class="sxs-lookup"><span data-stu-id="aaee1-133">**If the users are not included in information barrier policies, contact support**.</span></span> <span data-ttu-id="aaee1-134">De lo contrario, continúe con el paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="aaee1-134">Otherwise, proceed to the next step.</span></span>

2. <span data-ttu-id="aaee1-135">Descubra qué segmentos se incluyen en una directiva de barreras de información.</span><span class="sxs-lookup"><span data-stu-id="aaee1-135">Find out which segments are included in an information barrier policy.</span></span> <span data-ttu-id="aaee1-136">Para ello, use el `Get-InformationBarrierPolicy` cmdlet con el parámetro Identity.</span><span class="sxs-lookup"><span data-stu-id="aaee1-136">To do this, use the `Get-InformationBarrierPolicy` cmdlet with the Identity parameter.</span></span> 

    |<span data-ttu-id="aaee1-137">**Sintaxis**</span><span class="sxs-lookup"><span data-stu-id="aaee1-137">**Syntax**</span></span>|<span data-ttu-id="aaee1-138">**Ejemplo**</span><span class="sxs-lookup"><span data-stu-id="aaee1-138">**Example**</span></span>|
    |:---------|:----------|
    | `Get-InformationBarrierPolicy` <p> <span data-ttu-id="aaee1-139">Use detalles, como el GUID de directiva (ExoPolicyId) que recibió durante el paso anterior, como un valor de identidad.</span><span class="sxs-lookup"><span data-stu-id="aaee1-139">Use details, such as the policy GUID (ExoPolicyId) you received during the previous step, as an identity value.</span></span> | `Get-InformationBarrierPolicy -Identity b42c3d0f-49e9-4506-a0a5-bf2853b5df6f` <p> <span data-ttu-id="aaee1-140">En este ejemplo, vamos a obtener información detallada sobre la directiva de barreras de información que tiene ExoPolicyId *b42c3d0f-49e9-4506-a0a5-bf2853b5df6f*.</span><span class="sxs-lookup"><span data-stu-id="aaee1-140">In this example, we are getting detailed information about the information barrier policy that has ExoPolicyId *b42c3d0f-49e9-4506-a0a5-bf2853b5df6f*.</span></span> |

    <span data-ttu-id="aaee1-141">Después de ejecutar el cmdlet, en los resultados, busque los valores **AssignedSegment**, **SegmentsAllowed** y **SegmentsBlocked.**</span><span class="sxs-lookup"><span data-stu-id="aaee1-141">After you run the cmdlet, in the results, look for **AssignedSegment**, **SegmentsAllowed**, and **SegmentsBlocked** values.</span></span>

    <span data-ttu-id="aaee1-142">Por ejemplo, después de ejecutar el `Get-InformationBarrierPolicy` cmdlet, vimos lo siguiente en nuestra lista de resultados:</span><span class="sxs-lookup"><span data-stu-id="aaee1-142">For example, after running the `Get-InformationBarrierPolicy` cmdlet, we saw the following in our list of results:</span></span>

    ```powershell
    AssignedSegment : Sales
    SegmentsAllowed : {}
    SegmentsBlocked : {Research}
    ```

    <span data-ttu-id="aaee1-143">En este caso, podemos ver que una directiva de barreras de información afecta a las personas que están en los segmentos ventas e investigación.</span><span class="sxs-lookup"><span data-stu-id="aaee1-143">In this case, we can see that an information barrier policy affects people who are in the Sales and Research segments.</span></span> <span data-ttu-id="aaee1-144">En este caso, se impide que los usuarios de Ventas se comuniquen con personas de Investigación.</span><span class="sxs-lookup"><span data-stu-id="aaee1-144">In this case, people in Sales are prevented from communicating with people in Research.</span></span>

    <span data-ttu-id="aaee1-145">Si esto parece correcto, las barreras de información funcionan según lo esperado.</span><span class="sxs-lookup"><span data-stu-id="aaee1-145">If this seems correct, then information barriers are working as expected.</span></span> <span data-ttu-id="aaee1-146">Si no es así, vaya al paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="aaee1-146">If not, proceed to the next step.</span></span>

3. <span data-ttu-id="aaee1-147">Asegúrese de que los segmentos están definidos correctamente.</span><span class="sxs-lookup"><span data-stu-id="aaee1-147">Make sure your segments are defined correctly.</span></span> <span data-ttu-id="aaee1-148">Para ello, use el `Get-OrganizationSegment` cmdlet y revise la lista de resultados.</span><span class="sxs-lookup"><span data-stu-id="aaee1-148">To do this, use the `Get-OrganizationSegment` cmdlet, and review the list of results.</span></span>

    |<span data-ttu-id="aaee1-149">**Sintaxis**</span><span class="sxs-lookup"><span data-stu-id="aaee1-149">**Syntax**</span></span>|<span data-ttu-id="aaee1-150">**Ejemplo**</span><span class="sxs-lookup"><span data-stu-id="aaee1-150">**Example**</span></span>|
    |:---------|:----------|
    | `Get-OrganizationSegment`<p> <span data-ttu-id="aaee1-151">Use este cmdlet con un parámetro Identity.</span><span class="sxs-lookup"><span data-stu-id="aaee1-151">Use this cmdlet with an Identity parameter.</span></span> | `Get-OrganizationSegment -Identity c96e0837-c232-4a8a-841e-ef45787d8fcd` <p> <span data-ttu-id="aaee1-152">En este ejemplo, estamos obteniendo información sobre el segmento que tiene GUID *c96e0837-c232-4a8a-841e-ef45787d8fcd*.</span><span class="sxs-lookup"><span data-stu-id="aaee1-152">In this example, we are getting information about the segment that has GUID *c96e0837-c232-4a8a-841e-ef45787d8fcd*.</span></span> |

    <span data-ttu-id="aaee1-153">Revisa los detalles del segmento.</span><span class="sxs-lookup"><span data-stu-id="aaee1-153">Review the details for the segment.</span></span> <span data-ttu-id="aaee1-154">Si es [necesario, edite un segmento](information-barriers-edit-segments-policies.md#edit-a-segment)y, a continuación, vuelva a usar el `Start-InformationBarrierPoliciesApplication` cmdlet.</span><span class="sxs-lookup"><span data-stu-id="aaee1-154">If necessary, [edit a segment](information-barriers-edit-segments-policies.md#edit-a-segment), and then re-use the `Start-InformationBarrierPoliciesApplication` cmdlet.</span></span>

    <span data-ttu-id="aaee1-155">Si sigue teniendo problemas con la directiva de barreras **de información, póngase en contacto con el soporte técnico.**</span><span class="sxs-lookup"><span data-stu-id="aaee1-155">**If you are still having issues with your information barrier policy, contact support**.</span></span>

## <a name="issue-communications-are-allowed-between-users-who-should-be-blocked-in-microsoft-teams"></a><span data-ttu-id="aaee1-156">Problema: se permiten las comunicaciones entre los usuarios que deben bloquearse en Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="aaee1-156">Issue: Communications are allowed between users who should be blocked in Microsoft Teams</span></span>

<span data-ttu-id="aaee1-157">En este caso, aunque las barreras de información están definidas, activas y aplicadas, las personas a las que se les debe impedir comunicarse entre sí pueden chatear y llamarse entre sí en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="aaee1-157">In this case, although information barriers are defined, active, and applied, people who should be prevented from communicating with each other are somehow able to chat with and call each other in Microsoft Teams.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="aaee1-158">Qué hacer</span><span class="sxs-lookup"><span data-stu-id="aaee1-158">What to do</span></span>

<span data-ttu-id="aaee1-159">Compruebe que los usuarios en cuestión están incluidos en una directiva de barreras de información.</span><span class="sxs-lookup"><span data-stu-id="aaee1-159">Verify that the users in question are included in an information barrier policy.</span></span> 

1. <span data-ttu-id="aaee1-160">Use el **cmdlet Get-InformationBarrierRecipientStatus con** parámetros Identity.</span><span class="sxs-lookup"><span data-stu-id="aaee1-160">Use the **Get-InformationBarrierRecipientStatus** cmdlet with Identity parameters.</span></span>

    |<span data-ttu-id="aaee1-161">**Sintaxis** _</span><span class="sxs-lookup"><span data-stu-id="aaee1-161">**Syntax** _</span></span>|<span data-ttu-id="aaee1-162">_ *Ejemplo*\*</span><span class="sxs-lookup"><span data-stu-id="aaee1-162">_ *Example*\*</span></span>|
    |:----------|:----------|
    | `Get-InformationBarrierRecipientStatus -Identity <value> -Identity2 <value>` <p> <span data-ttu-id="aaee1-163">Puede usar cualquier valor que identifique de forma exclusiva a cada usuario, como nombre, alias, nombre distintivo, nombre de dominio canónico, dirección de correo electrónico o GUID.</span><span class="sxs-lookup"><span data-stu-id="aaee1-163">You can use any value that uniquely identifies each user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span> |`Get-InformationBarrierRecipientStatus -Identity meganb -Identity2 alexw` <p> <span data-ttu-id="aaee1-164">En este ejemplo, nos referimos a dos cuentas de usuario en Office 365: *meganb* para *Megan* y *alexw* para *Alex*.</span><span class="sxs-lookup"><span data-stu-id="aaee1-164">In this example, we refer to two user accounts in Office 365: *meganb* for *Megan*, and *alexw* for *Alex*.</span></span> |

    > [!TIP]
    > <span data-ttu-id="aaee1-165">También puede usar este cmdlet para un solo usuario: `Get-InformationBarrierRecipientStatus -Identity <value>`</span><span class="sxs-lookup"><span data-stu-id="aaee1-165">You can also use this cmdlet for a single user: `Get-InformationBarrierRecipientStatus -Identity <value>`</span></span>

2. <span data-ttu-id="aaee1-166">Revise los resultados.</span><span class="sxs-lookup"><span data-stu-id="aaee1-166">Review the findings.</span></span> <span data-ttu-id="aaee1-167">El cmdlet **Get-InformationBarrierRecipientStatus** devuelve información acerca de los usuarios, como los valores de atributo y las directivas de barreras de información que se aplican.</span><span class="sxs-lookup"><span data-stu-id="aaee1-167">The **Get-InformationBarrierRecipientStatus** cmdlet returns information about users, such as attribute values and any information barrier policies that are applied.</span></span>

    <span data-ttu-id="aaee1-168">Revise los resultados y, a continuación, siga los pasos siguientes, como se describe en la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="aaee1-168">Review the results, and then take your next steps, as described in the following table:</span></span>

    |<span data-ttu-id="aaee1-169">**Resultados**</span><span class="sxs-lookup"><span data-stu-id="aaee1-169">**Results**</span></span>|<span data-ttu-id="aaee1-170">**Qué hacer a continuación**</span><span class="sxs-lookup"><span data-stu-id="aaee1-170">**What to do next**</span></span>|
    |:----------|:------------------|
    | <span data-ttu-id="aaee1-171">No se muestran segmentos para los usuarios seleccionados</span><span class="sxs-lookup"><span data-stu-id="aaee1-171">No segments are listed for the selected user(s)</span></span> | <span data-ttu-id="aaee1-172">Realice una de las acciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="aaee1-172">Do one of the following:</span></span><br/><span data-ttu-id="aaee1-173">- Asignar usuarios a un segmento existente editando sus perfiles de usuario en Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="aaee1-173">- Assign users to an existing segment by editing their user profiles in Azure Active Directory.</span></span> <span data-ttu-id="aaee1-174">(Vea [Configurar las propiedades de la cuenta de usuario con PowerShell de Office 365).](https://docs.microsoft.com/microsoft-365/enterprise/configure-user-account-properties-with-microsoft-365-powershell)</span><span class="sxs-lookup"><span data-stu-id="aaee1-174">(See [Configure user account properties with Office 365 PowerShell](https://docs.microsoft.com/microsoft-365/enterprise/configure-user-account-properties-with-microsoft-365-powershell).)</span></span><br/><span data-ttu-id="aaee1-175">- Definir un segmento con un atributo [admitido para barreras de información.](information-barriers-attributes.md)</span><span class="sxs-lookup"><span data-stu-id="aaee1-175">- Define a segment using a [supported attribute for information barriers](information-barriers-attributes.md).</span></span> <span data-ttu-id="aaee1-176">A continuación, [defina una nueva directiva o](information-barriers-policies.md#part-2-define-information-barrier-policies) [edite una directiva existente](information-barriers-edit-segments-policies.md#edit-a-policy) para incluir ese segmento.</span><span class="sxs-lookup"><span data-stu-id="aaee1-176">Then, either [define a new policy](information-barriers-policies.md#part-2-define-information-barrier-policies) or [edit an existing policy](information-barriers-edit-segments-policies.md#edit-a-policy) to include that segment.</span></span> |
    | <span data-ttu-id="aaee1-177">Los segmentos se enumeran pero no se asignan directivas de barreras de información a esos segmentos</span><span class="sxs-lookup"><span data-stu-id="aaee1-177">Segments are listed but no information barrier policies are assigned to those segments</span></span> | <span data-ttu-id="aaee1-178">Realice una de las acciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="aaee1-178">Do one of the following:</span></span><br/><span data-ttu-id="aaee1-179">- [Definir una nueva directiva de barreras de información](information-barriers-policies.md#part-2-define-information-barrier-policies) para cada segmento en cuestión</span><span class="sxs-lookup"><span data-stu-id="aaee1-179">- [Define a new information barrier policy](information-barriers-policies.md#part-2-define-information-barrier-policies) for each segment in question</span></span> <br/><span data-ttu-id="aaee1-180">- [Editar una directiva de barreras de información](information-barriers-edit-segments-policies.md#edit-a-policy) existente para asignarla al segmento correcto</span><span class="sxs-lookup"><span data-stu-id="aaee1-180">- [Edit an existing information barrier policy](information-barriers-edit-segments-policies.md#edit-a-policy) to assign it to the correct segment</span></span> |
    | <span data-ttu-id="aaee1-181">Los segmentos se enumeran y se incluyen en una directiva de barreras de información</span><span class="sxs-lookup"><span data-stu-id="aaee1-181">Segments are listed and each is included in an information barrier policy</span></span> | <span data-ttu-id="aaee1-182">- Ejecute el `Get-InformationBarrierPolicy` cmdlet para comprobar que las directivas de barreras de información están activas</span><span class="sxs-lookup"><span data-stu-id="aaee1-182">- Run the `Get-InformationBarrierPolicy` cmdlet to verify that information barrier policies are active</span></span><br/><span data-ttu-id="aaee1-183">- Ejecutar el `Get-InformationBarrierPoliciesApplicationStatus` cmdlet para confirmar que se aplican las directivas</span><span class="sxs-lookup"><span data-stu-id="aaee1-183">- Run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet to confirm the policies are applied</span></span><br/><span data-ttu-id="aaee1-184">- Ejecutar el `Start-InformationBarrierPoliciesApplication` cmdlet para aplicar todas las directivas de barreras de información activas</span><span class="sxs-lookup"><span data-stu-id="aaee1-184">- Run the `Start-InformationBarrierPoliciesApplication` cmdlet to apply all active information barrier policies</span></span> |

## <a name="issue-i-need-to-remove-a-single-user-from-an-information-barrier-policy"></a><span data-ttu-id="aaee1-185">Problema: necesito quitar un solo usuario de una directiva de barreras de información</span><span class="sxs-lookup"><span data-stu-id="aaee1-185">Issue: I need to remove a single user from an information barrier policy</span></span>

<span data-ttu-id="aaee1-186">En este caso, las directivas de barreras de información están en vigor y se bloquea inesperadamente a uno o más usuarios para que no se comuniquen con otros usuarios de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="aaee1-186">In this case, information barrier policies are in effect, and a one or more users are unexpectedly blocked from communicating with others in Microsoft Teams.</span></span> <span data-ttu-id="aaee1-187">En lugar de eliminar las directivas de barreras de información por completo, puede quitar uno o más usuarios individuales de las directivas de barreras de información.</span><span class="sxs-lookup"><span data-stu-id="aaee1-187">Rather than remove information barrier policies altogether, you can remove one or more individual users from information barrier policies.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="aaee1-188">Qué hacer</span><span class="sxs-lookup"><span data-stu-id="aaee1-188">What to do</span></span>

<span data-ttu-id="aaee1-189">Las directivas de barreras de información se asignan a segmentos de usuarios.</span><span class="sxs-lookup"><span data-stu-id="aaee1-189">Information barrier policies are assigned to segments of users.</span></span> <span data-ttu-id="aaee1-190">Los segmentos se definen mediante el uso de [determinados atributos en los perfiles de cuenta de usuario.](information-barriers-attributes.md)</span><span class="sxs-lookup"><span data-stu-id="aaee1-190">Segments are defined by using certain [attributes in user account profiles](information-barriers-attributes.md).</span></span> <span data-ttu-id="aaee1-191">Si debe quitar una directiva de un solo usuario, considere la posibilidad de editar el perfil de ese usuario en Azure Active Directory de modo que el usuario ya no esté incluido en un segmento afectado por barreras de información.</span><span class="sxs-lookup"><span data-stu-id="aaee1-191">If you must remove a policy from a single user, consider editing that user's profile in Azure Active Directory such that the user is no longer included in a segment affected by information barriers.</span></span>

1. <span data-ttu-id="aaee1-192">Use el **cmdlet Get-InformationBarrierRecipientStatus con** parámetros Identity.</span><span class="sxs-lookup"><span data-stu-id="aaee1-192">Use the **Get-InformationBarrierRecipientStatus** cmdlet with Identity parameters.</span></span> <span data-ttu-id="aaee1-193">Este cmdlet devuelve información sobre los usuarios, como los valores de atributo y las directivas de barreras de información que se aplican.</span><span class="sxs-lookup"><span data-stu-id="aaee1-193">This cmdlet returns information about users, such as attribute values and any information barrier policies that are applied.</span></span>

    |<span data-ttu-id="aaee1-194">**Sintaxis**</span><span class="sxs-lookup"><span data-stu-id="aaee1-194">**Syntax**</span></span>|<span data-ttu-id="aaee1-195">**Ejemplo**</span><span class="sxs-lookup"><span data-stu-id="aaee1-195">**Example**</span></span>|
    |:---------|:----------|
    | `Get-InformationBarrierRecipientStatus -Identity <value> -Identity2 <value>` <p> <span data-ttu-id="aaee1-196">Puede usar cualquier valor que identifique de forma exclusiva a cada usuario, como nombre, alias, nombre distintivo, nombre de dominio canónico, dirección de correo electrónico o GUID.</span><span class="sxs-lookup"><span data-stu-id="aaee1-196">You can use any value that uniquely identifies each user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span> | `Get-InformationBarrierRecipientStatus -Identity meganb -Identity2 alexw` <p> <span data-ttu-id="aaee1-197">En este ejemplo, nos referimos a dos cuentas de usuario en Office 365: *meganb* para *Megan* y *alexw* para *Alex*.</span><span class="sxs-lookup"><span data-stu-id="aaee1-197">In this example, we refer to two user accounts in Office 365: *meganb* for *Megan*, and *alexw* for *Alex*.</span></span>          |
    | `Get-InformationBarrierRecipientStatus -Identity <value>` <p> <span data-ttu-id="aaee1-198">Puede usar cualquier valor que identifique de forma exclusiva al usuario, como nombre, alias, nombre distintivo, nombre de dominio canónico, dirección de correo electrónico o GUID.</span><span class="sxs-lookup"><span data-stu-id="aaee1-198">You can use any value that uniquely identifies the user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span>|`Get-InformationBarrierRecipientStatus -Identity jeanp`<p> <span data-ttu-id="aaee1-199">En este ejemplo, nos referimos a una sola cuenta en Office 365: *juanp*.</span><span class="sxs-lookup"><span data-stu-id="aaee1-199">In this example, we refer to a single account in Office 365: *jeanp*.</span></span> |

2. <span data-ttu-id="aaee1-200">Revise los resultados para ver si se asignan directivas de barreras de información y a qué segmentos pertenecen los usuarios.</span><span class="sxs-lookup"><span data-stu-id="aaee1-200">Review the results to see if information barrier policies are assigned, and to which segment(s) the user(s) belong.</span></span>

3. <span data-ttu-id="aaee1-201">Para quitar un usuario de un segmento afectado por barreras de información, actualice la información de perfil del usuario [en Azure Active Directory.](https://docs.microsoft.com/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal)</span><span class="sxs-lookup"><span data-stu-id="aaee1-201">To remove a user from a segment affected by information barriers, [update the user's profile information in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal).</span></span>

4. <span data-ttu-id="aaee1-202">Espere unos 30 minutos para que se produzca FwdSync.</span><span class="sxs-lookup"><span data-stu-id="aaee1-202">Wait about 30 minutes for FwdSync to occur.</span></span> <span data-ttu-id="aaee1-203">O bien, ejecute el cmdlet para aplicar todas las directivas de `Start-InformationBarrierPoliciesApplication` barreras de información activas.</span><span class="sxs-lookup"><span data-stu-id="aaee1-203">Or, run the `Start-InformationBarrierPoliciesApplication` cmdlet to apply all active information barrier policies.</span></span>

## <a name="issue-the-information-barrier-application-process-is-taking-too-long"></a><span data-ttu-id="aaee1-204">Problema: el proceso de aplicación de barreras de información tarda demasiado tiempo</span><span class="sxs-lookup"><span data-stu-id="aaee1-204">Issue: The information barrier application process is taking too long</span></span>

<span data-ttu-id="aaee1-205">Después de ejecutar el cmdlet **Start-InformationBarrierPoliciesApplication,** el proceso tarda mucho tiempo en finalizar.</span><span class="sxs-lookup"><span data-stu-id="aaee1-205">After running the **Start-InformationBarrierPoliciesApplication** cmdlet, the process is taking a really long time to finish.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="aaee1-206">Qué hacer</span><span class="sxs-lookup"><span data-stu-id="aaee1-206">What to do</span></span>

<span data-ttu-id="aaee1-207">Tenga en cuenta que al ejecutar el cmdlet de la aplicación de directiva, las directivas de barreras de información se aplican (o quitan), usuario por usuario, para todas las cuentas de la organización.</span><span class="sxs-lookup"><span data-stu-id="aaee1-207">Keep in mind that when you run the policy application cmdlet, information barrier policies are being applied (or removed), user by user, for all accounts in your organization.</span></span> <span data-ttu-id="aaee1-208">Si tiene una gran cantidad de usuarios, el proceso llevará un tiempo.</span><span class="sxs-lookup"><span data-stu-id="aaee1-208">If you have a lot of users, it will take a while to process.</span></span> <span data-ttu-id="aaee1-209">(Como regla general, se tarda aproximadamente una hora en procesar 5.000 cuentas de usuario).</span><span class="sxs-lookup"><span data-stu-id="aaee1-209">(As a general guideline, it takes about an hour to process 5,000 user accounts.)</span></span>

1. <span data-ttu-id="aaee1-210">Use el cmdlet **Get-InformationBarrierPoliciesApplicationStatus** para comprobar el estado de la aplicación de directiva más reciente.</span><span class="sxs-lookup"><span data-stu-id="aaee1-210">Use the **Get-InformationBarrierPoliciesApplicationStatus** cmdlet to verify status of the most recent policy application.</span></span>

    |<span data-ttu-id="aaee1-211">**Para ver la aplicación de directiva más reciente**</span><span class="sxs-lookup"><span data-stu-id="aaee1-211">**To view the most recent policy application**</span></span>|<span data-ttu-id="aaee1-212">**Para ver el estado de todas las aplicaciones de directiva**</span><span class="sxs-lookup"><span data-stu-id="aaee1-212">**To view status for all policy applications**</span></span>|
    |:---------------------------------------------|:---------------------------------------------|
    | `Get-InformationBarrierPoliciesApplicationStatus` | `Get-InformationBarrierPoliciesApplicationStatus -All $true` |

    <span data-ttu-id="aaee1-213">Esto mostrará información sobre si la aplicación de directiva se completó, no se realizó correctamente o si está en curso.</span><span class="sxs-lookup"><span data-stu-id="aaee1-213">This will display information about whether policy application completed, failed, or is in progress.</span></span>

2. <span data-ttu-id="aaee1-214">Según los resultados del paso anterior, siga uno de estos pasos:</span><span class="sxs-lookup"><span data-stu-id="aaee1-214">Depending on the results of the previous step, take one of the following steps:</span></span>
  
    |<span data-ttu-id="aaee1-215">**Estado**</span><span class="sxs-lookup"><span data-stu-id="aaee1-215">**Status**</span></span>|<span data-ttu-id="aaee1-216">**Paso siguiente**</span><span class="sxs-lookup"><span data-stu-id="aaee1-216">**Next step**</span></span>|
    |:---------|:------------|
    | <span data-ttu-id="aaee1-217">**No iniciado**</span><span class="sxs-lookup"><span data-stu-id="aaee1-217">**Not started**</span></span> | <span data-ttu-id="aaee1-218">Si han pasado más de 45 minutos desde que se ha ejecutado el cmdlet **Start-InformationBarrierPoliciesApplication,** revise el registro de auditoría para ver si hay errores en las definiciones de directiva o algún otro motivo por el que la aplicación no se haya iniciado.</span><span class="sxs-lookup"><span data-stu-id="aaee1-218">If it has been more than 45 minutes since the **Start-InformationBarrierPoliciesApplication** cmdlet has been run, review your audit log to see if there are any errors in policy definitions, or some other reason why the application has not started.</span></span> |
    | <span data-ttu-id="aaee1-219">**Failed**</span><span class="sxs-lookup"><span data-stu-id="aaee1-219">**Failed**</span></span> | <span data-ttu-id="aaee1-220">Si se ha dado un error en la aplicación, revise el registro de auditoría.</span><span class="sxs-lookup"><span data-stu-id="aaee1-220">If the application has failed, review your audit log.</span></span> <span data-ttu-id="aaee1-221">Revisa también tus segmentos y directivas.</span><span class="sxs-lookup"><span data-stu-id="aaee1-221">Also review your segments and policies.</span></span> <span data-ttu-id="aaee1-222">¿Hay usuarios asignados a más de un segmento?</span><span class="sxs-lookup"><span data-stu-id="aaee1-222">Are any users assigned to more than one segment?</span></span> <span data-ttu-id="aaee1-223">¿Hay segmentos asignados a más de una poliica?</span><span class="sxs-lookup"><span data-stu-id="aaee1-223">Are any segments assigned more than one poliicy?</span></span> <span data-ttu-id="aaee1-224">Si es necesario, [edite](information-barriers-edit-segments-policies.md#edit-a-segment) segmentos o [directivas](information-barriers-edit-segments-policies.md#edit-a-policy)de edición y, a continuación, ejecute el cmdlet **Start-InformationBarrierPoliciesApplication** de nuevo.</span><span class="sxs-lookup"><span data-stu-id="aaee1-224">If necessary, [edit segments](information-barriers-edit-segments-policies.md#edit-a-segment) and/or [edit policies](information-barriers-edit-segments-policies.md#edit-a-policy), and then run the **Start-InformationBarrierPoliciesApplication** cmdlet again.</span></span> |
    | <span data-ttu-id="aaee1-225">**En curso**</span><span class="sxs-lookup"><span data-stu-id="aaee1-225">**In progress**</span></span> | <span data-ttu-id="aaee1-226">Si la aplicación aún está en curso, deje más tiempo para que se complete.</span><span class="sxs-lookup"><span data-stu-id="aaee1-226">If the application is still in progress, allow more time for it to complete.</span></span> <span data-ttu-id="aaee1-227">Si han pasado varios días, recopila los registros de auditoría y, a continuación, póngase en contacto con el soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="aaee1-227">If it has been several days, gather your audit logs, and then contact support.</span></span> |

## <a name="issue-information-barrier-policies-are-not-being-applied-at-all"></a><span data-ttu-id="aaee1-228">Problema: las directivas de barreras de información no se aplican en absoluto</span><span class="sxs-lookup"><span data-stu-id="aaee1-228">Issue: Information barrier policies are not being applied at all</span></span>

<span data-ttu-id="aaee1-229">En este caso, ha definido segmentos, ha definido directivas de barreras de información y ha intentado aplicar esas directivas.</span><span class="sxs-lookup"><span data-stu-id="aaee1-229">In this case, you have defined segments, defined information barrier policies, and have attempted to apply those policies.</span></span> <span data-ttu-id="aaee1-230">Sin embargo, al ejecutar el `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, puede ver que la aplicación de directiva ha fallado.</span><span class="sxs-lookup"><span data-stu-id="aaee1-230">However, when you run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, you can see that policy application has failed.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="aaee1-231">Qué hacer</span><span class="sxs-lookup"><span data-stu-id="aaee1-231">What to do</span></span>

<span data-ttu-id="aaee1-232">Asegúrese de que su organización no tiene directivas de libreta de direcciones [de Exchange](https://docs.microsoft.com/exchange/address-books/address-book-policies/address-book-policies) en su lugar.</span><span class="sxs-lookup"><span data-stu-id="aaee1-232">Make sure that your organization does not have [Exchange address book policies](https://docs.microsoft.com/exchange/address-books/address-book-policies/address-book-policies) in place.</span></span> <span data-ttu-id="aaee1-233">Estas directivas impedirán que se apliquen directivas de barreras de información.</span><span class="sxs-lookup"><span data-stu-id="aaee1-233">Such policies will prevent information barrier policies from being applied.</span></span>

1. <span data-ttu-id="aaee1-234">Conéctese a [Exchange Online PowerShell](https://docs.microsoft.com/powershell/exchange/connect-to-exchange-online-powershell).</span><span class="sxs-lookup"><span data-stu-id="aaee1-234">Connect to [Exchange Online PowerShell](https://docs.microsoft.com/powershell/exchange/connect-to-exchange-online-powershell).</span></span>

2. <span data-ttu-id="aaee1-235">Ejecute el cmdlet [Get-AddressBookPolicy](https://docs.microsoft.com/powershell/module/exchange/get-addressbookpolicy) y revise los resultados.</span><span class="sxs-lookup"><span data-stu-id="aaee1-235">Run the [Get-AddressBookPolicy](https://docs.microsoft.com/powershell/module/exchange/get-addressbookpolicy) cmdlet, and review the results.</span></span>

    |<span data-ttu-id="aaee1-236">**Resultados**</span><span class="sxs-lookup"><span data-stu-id="aaee1-236">**Results**</span></span>|<span data-ttu-id="aaee1-237">**Paso siguiente**</span><span class="sxs-lookup"><span data-stu-id="aaee1-237">**Next step**</span></span>|
    |:----------|:------------|
    | <span data-ttu-id="aaee1-238">Se enumeran las directivas de la libreta de direcciones de Exchange</span><span class="sxs-lookup"><span data-stu-id="aaee1-238">Exchange address book policies are listed</span></span> | [<span data-ttu-id="aaee1-239">Quitar directivas de libreta de direcciones</span><span class="sxs-lookup"><span data-stu-id="aaee1-239">Remove address book policies</span></span>](https://docs.microsoft.com/exchange/address-books/address-book-policies/remove-an-address-book-policy) |
    | <span data-ttu-id="aaee1-240">No existen directivas de libreta de direcciones</span><span class="sxs-lookup"><span data-stu-id="aaee1-240">No address book policies exist</span></span> |<span data-ttu-id="aaee1-241">Revisar los registros de auditoría para averiguar por qué se está fallando la aplicación de directiva</span><span class="sxs-lookup"><span data-stu-id="aaee1-241">Review your audit logs to find out why policy application is failing</span></span> |

3. <span data-ttu-id="aaee1-242">[Ver el estado de las cuentas de usuario, segmentos, directivas o aplicación de directiva.](information-barriers-policies.md#view-status-of-user-accounts-segments-policies-or-policy-application)</span><span class="sxs-lookup"><span data-stu-id="aaee1-242">[View status of user accounts, segments, policies, or policy application](information-barriers-policies.md#view-status-of-user-accounts-segments-policies-or-policy-application).</span></span>

## <a name="issue-information-barrier-policy-not-applied-to-all-designated-users"></a><span data-ttu-id="aaee1-243">Problema: la directiva de barreras de información no se aplica a todos los usuarios designados</span><span class="sxs-lookup"><span data-stu-id="aaee1-243">Issue: Information barrier policy not applied to all designated users</span></span>

<span data-ttu-id="aaee1-244">Después de definir segmentos, definir directivas de barreras de información e intentar aplicar esas directivas, es posible que encuentre que la directiva se aplica a algunos destinatarios, pero no a otros.</span><span class="sxs-lookup"><span data-stu-id="aaee1-244">After you have defined segments, defined information barrier policies, and have attempted to apply those policies, you may find that the policy is applying to some recipients, but not to others.</span></span>
<span data-ttu-id="aaee1-245">Cuando ejecute el cmdlet, busque texto como este en `Get-InformationBarrierPoliciesApplicationStatus` el resultado.</span><span class="sxs-lookup"><span data-stu-id="aaee1-245">When you run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, search the output for text like this.</span></span>

> <span data-ttu-id="aaee1-246">Identidad: `<application guid>`</span><span class="sxs-lookup"><span data-stu-id="aaee1-246">Identity: `<application guid>`</span></span>
>
> <span data-ttu-id="aaee1-247">Total de destinatarios: 81527</span><span class="sxs-lookup"><span data-stu-id="aaee1-247">Total Recipients: 81527</span></span>
>
> <span data-ttu-id="aaee1-248">Destinatarios con errores: 2</span><span class="sxs-lookup"><span data-stu-id="aaee1-248">Failed Recipients: 2</span></span>
>
> <span data-ttu-id="aaee1-249">Categoría de error: Ninguno</span><span class="sxs-lookup"><span data-stu-id="aaee1-249">Failure Category: None</span></span>
>
> <span data-ttu-id="aaee1-250">Estado: Completado</span><span class="sxs-lookup"><span data-stu-id="aaee1-250">Status: Complete</span></span>

### <a name="what-to-do"></a><span data-ttu-id="aaee1-251">Qué hacer</span><span class="sxs-lookup"><span data-stu-id="aaee1-251">What to do</span></span>

1. <span data-ttu-id="aaee1-252">Busque en el registro de auditoría `<application guid>` .</span><span class="sxs-lookup"><span data-stu-id="aaee1-252">Search in the audit log for `<application guid>`.</span></span> <span data-ttu-id="aaee1-253">Puede copiar este código de PowerShell y modificar las variables.</span><span class="sxs-lookup"><span data-stu-id="aaee1-253">You can copy this PowerShell code and modify for your variables.</span></span>

```powershell
$DetailedLogs = Search-UnifiedAuditLog -EndDate <yyyy-mm-ddThh:mm:ss>  -StartDate <yyyy-mm-ddThh:mm:ss> -RecordType InformationBarrierPolicyApplication -ResultSize 1000 |?{$_.AuditData.Contains(<application guid>)} 
```

2. <span data-ttu-id="aaee1-254">Compruebe los valores de los campos y los resultados detallados del registro `"UserId"` de `"ErrorDetails"` auditoría.</span><span class="sxs-lookup"><span data-stu-id="aaee1-254">Check the detailed output from the audit log for the values of the `"UserId"` and `"ErrorDetails"` fields.</span></span> <span data-ttu-id="aaee1-255">Esto le dará la razón del error.</span><span class="sxs-lookup"><span data-stu-id="aaee1-255">This will give you the reason for the failure.</span></span> <span data-ttu-id="aaee1-256">Puede copiar este código de PowerShell y modificar las variables.</span><span class="sxs-lookup"><span data-stu-id="aaee1-256">You can copy this PowerShell code and modify for your variables.</span></span>

```powershell
   $DetailedLogs[1] |fl
```

<span data-ttu-id="aaee1-257">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="aaee1-257">For example:</span></span>

> <span data-ttu-id="aaee1-258">"UserId": User1</span><span class="sxs-lookup"><span data-stu-id="aaee1-258">"UserId":  User1</span></span>
>
><span data-ttu-id="aaee1-259">"ErrorDetails":"Status: IBPolicyConflict.</span><span class="sxs-lookup"><span data-stu-id="aaee1-259">"ErrorDetails":"Status: IBPolicyConflict.</span></span> <span data-ttu-id="aaee1-260">Error: el segmento DE "id. de segmento1" y el segmento DE LAC "id2" tienen conflicto y no se pueden asignar al destinatario.</span><span class="sxs-lookup"><span data-stu-id="aaee1-260">Error: IB  segment "segment id1" and IB segment "segment id2" has conflict and cannot be assigned to the recipient.</span></span>

3. <span data-ttu-id="aaee1-261">Por lo general, verá que un usuario se ha incluido en más de un segmento.</span><span class="sxs-lookup"><span data-stu-id="aaee1-261">Usually, you will find that a user has been included in more than one segment.</span></span> <span data-ttu-id="aaee1-262">Puede corregir esto actualizando el `-UserGroupFilter` valor en `OrganizationSegments` .</span><span class="sxs-lookup"><span data-stu-id="aaee1-262">You can fix this by updating the `-UserGroupFilter` value in `OrganizationSegments`.</span></span>

4. <span data-ttu-id="aaee1-263">Vuelva a aplicar las directivas de barreras de información mediante estos [procedimientos: directivas de barreras de información.](information-barriers-policies.md#part-3-apply-information-barrier-policies)</span><span class="sxs-lookup"><span data-stu-id="aaee1-263">Re-apply information barrier policies using these procedures [Information Barriers policies](information-barriers-policies.md#part-3-apply-information-barrier-policies).</span></span>

## <a name="resources"></a><span data-ttu-id="aaee1-264">Recursos</span><span class="sxs-lookup"><span data-stu-id="aaee1-264">Resources</span></span>

- [<span data-ttu-id="aaee1-265">Definir directivas para barreras de información en Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="aaee1-265">Define policies for information barriers in Microsoft Teams</span></span>](information-barriers-policies.md)
- [<span data-ttu-id="aaee1-266">Barreras de información</span><span class="sxs-lookup"><span data-stu-id="aaee1-266">Information barriers</span></span>](information-barriers.md)
