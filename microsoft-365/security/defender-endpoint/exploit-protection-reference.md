---
title: Referencia de protección contra vulnerabilidades de seguridad
keywords: mitigaciones, vulnerabilidades, vulnerabilidad, mitigación, vulnerabilidad, vulnerabilidades, vulnerabilidades, emet
description: Detalles sobre cómo funciona la característica de protección contra vulnerabilidades en Windows 10
search.product: eADQiWindows 10XVcnh
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.date: 01/06/2021
ms.reviewer: cjacks
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.topic: article
ms.openlocfilehash: 7300ed2a4dc2623a8f936006ce7de3a5204712f0
ms.sourcegitcommit: 4fb1226d5875bf5b9b29252596855a6562cea9ae
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/08/2021
ms.locfileid: "52844548"
---
# <a name="exploit-protection-reference"></a><span data-ttu-id="fd770-104">Referencia de protección contra vulnerabilidades</span><span class="sxs-lookup"><span data-stu-id="fd770-104">Exploit Protection Reference</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


<span data-ttu-id="fd770-105">**Se aplica a:**</span><span class="sxs-lookup"><span data-stu-id="fd770-105">**Applies to:**</span></span>
- [<span data-ttu-id="fd770-106">Microsoft Defender para punto de conexión</span><span class="sxs-lookup"><span data-stu-id="fd770-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/?linkid=2154037)
- [<span data-ttu-id="fd770-107">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="fd770-107">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

><span data-ttu-id="fd770-108">¿Desea experimentar Microsoft Defender para endpoint?</span><span class="sxs-lookup"><span data-stu-id="fd770-108">Want to experience Microsoft Defender for Endpoint?</span></span> [<span data-ttu-id="fd770-109">Regístrate para obtener una versión de prueba gratuita.</span><span class="sxs-lookup"><span data-stu-id="fd770-109">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-enablesiem-abovefoldlink)

<span data-ttu-id="fd770-110">La protección contra vulnerabilidades proporciona protecciones avanzadas para las aplicaciones que el Pro de TI puede aplicar después de que el desarrollador haya compilado y distribuido el software.</span><span class="sxs-lookup"><span data-stu-id="fd770-110">Exploit protection provides advanced protections for applications that the IT Pro can apply after the developer has compiled and distributed the software.</span></span>

<span data-ttu-id="fd770-111">Este artículo le ayuda a comprender cómo funciona la protección contra vulnerabilidades, tanto en el nivel de directiva como en el nivel de mitigación individual, para ayudarle a crear y aplicar correctamente directivas de protección contra vulnerabilidades de seguridad.</span><span class="sxs-lookup"><span data-stu-id="fd770-111">This article helps you understand how exploit protection works, both at the policy level and at the individual mitigation level, to help you successfully build and apply Exploit Protection policies.</span></span>

## <a name="how-mitigations-are-applied"></a><span data-ttu-id="fd770-112">Cómo se aplican las mitigaciones</span><span class="sxs-lookup"><span data-stu-id="fd770-112">How mitigations are applied</span></span>

<span data-ttu-id="fd770-113">Las mitigaciones de protección contra vulnerabilidades de seguridad se aplican por aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-113">Exploit Protection mitigations are applied per application.</span></span>

<span data-ttu-id="fd770-114">Las mitigaciones se configuran a través de una entrada del Registro para cada programa para el que configure las protecciones.</span><span class="sxs-lookup"><span data-stu-id="fd770-114">Mitigations are configured via a registry entry for each program that you configure protections for.</span></span> <span data-ttu-id="fd770-115">Esta configuración se almacena en la entrada del Registro **MitigationOptions** para cada programa (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution Options \ *ImageFileName* \ MitigationOptions**).</span><span class="sxs-lookup"><span data-stu-id="fd770-115">These settings are stored in the **MitigationOptions** registry entry for each program (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution Options \ *ImageFileName* \ MitigationOptions**).</span></span> <span data-ttu-id="fd770-116">Tienen efecto al reiniciar el programa y permanecen vigentes hasta que los cambie y reinicie de nuevo el programa.</span><span class="sxs-lookup"><span data-stu-id="fd770-116">They take effect when you restart the program and remain effective until you change them and restart the program again.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fd770-117">Opciones de ejecución de archivos de imagen solo permite especificar un nombre de archivo o una ruta de acceso, y no un número de versión, arquitectura ni ningún otro diferenciador.</span><span class="sxs-lookup"><span data-stu-id="fd770-117">Image File Execution Options only allows you to specify a file name or path, and not a version number, architecture, or any other differentiator.</span></span> <span data-ttu-id="fd770-118">Tenga cuidado de dirigir las mitigaciones a las aplicaciones que tienen nombres o rutas de acceso únicos, apliquen solo en dispositivos donde haya probado esa versión y la arquitectura de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-118">Be careful to target mitigations to apps which have unique names or paths, applying them only on devices where you have tested that version and that architecture of the application.</span></span>

<span data-ttu-id="fd770-119">Si configura mitigaciones de protección contra vulnerabilidades mediante un archivo de configuración XML, ya sea mediante PowerShell, directiva de grupo o MDM, al procesar este archivo de configuración XML, se configurarán automáticamente las opciones de configuración individuales del Registro.</span><span class="sxs-lookup"><span data-stu-id="fd770-119">If you configure exploit protection mitigations using an XML configuration file, either via PowerShell, Group Policy, or MDM, when processing this XML configuration file, individual registry settings will be configured for you.</span></span>

<span data-ttu-id="fd770-120">Cuando ya no se aplica la directiva que distribuye el archivo XML, la configuración implementada por este archivo de configuración XML no se quitará automáticamente.</span><span class="sxs-lookup"><span data-stu-id="fd770-120">When the policy distributing the XML file is no longer enforced, settings deployed by this XML configuration file will not be automatically removed.</span></span> <span data-ttu-id="fd770-121">Para quitar la configuración de Protección contra vulnerabilidades de seguridad, exporte la configuración XML desde un dispositivo Windows 10 y implemente este nuevo archivo XML.</span><span class="sxs-lookup"><span data-stu-id="fd770-121">To remove Exploit Protection settings, export the XML configuration from a clean Windows 10 device, and deploy this new XML file.</span></span> <span data-ttu-id="fd770-122">Como alternativa, Microsoft proporciona un archivo XML como parte de las Seguridad de Windows baselines para restablecer la configuración de Protección contra vulnerabilidades de seguridad.</span><span class="sxs-lookup"><span data-stu-id="fd770-122">Alternately, Microsoft provides an XML file as part of the Windows Security Baselines for resetting Exploit Protection settings.</span></span>

<span data-ttu-id="fd770-123">Para restablecer la configuración de protección contra vulnerabilidades con PowerShell, puede usar el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="fd770-123">To reset exploit protection settings using PowerShell, you could use the following command:</span></span>

```powershell
Set-ProcessMitigation -PolicyFilePath EP-reset.xml
```
<span data-ttu-id="fd770-124">A continuación se EP-reset.xml distribución con las Seguridad de Windows líneas base:</span><span class="sxs-lookup"><span data-stu-id="fd770-124">Following is the EP-reset.xml distributed with the Windows Security Baselines:</span></span>
```xml
<?xml version="1.0" encoding="UTF-8"?>
<MitigationPolicy>
  <AppConfig Executable="ONEDRIVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR OverrideRelocateImages="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
  </AppConfig>
  <AppConfig Executable="firefox.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
  </AppConfig>
  <AppConfig Executable="fltldr.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="GROOVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="Acrobat.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="AcroRd32.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="chrome.exe">
    <DEP OverrideDEP="false" />
  </AppConfig>
  <AppConfig Executable="EXCEL.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="iexplore.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="INFOPATH.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="java.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaw.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaws.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="LYNC.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSACCESS.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSPUB.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OIS.EXE">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OUTLOOK.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="plugin-container.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="POWERPNT.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="PPTVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VISIO.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VPREVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="WINWORD.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wmplayer.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wordpad.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
</MitigationPolicy>
```

## <a name="mitigation-reference"></a><span data-ttu-id="fd770-125">Referencia de mitigación</span><span class="sxs-lookup"><span data-stu-id="fd770-125">Mitigation Reference</span></span>

<span data-ttu-id="fd770-126">En las secciones siguientes se detallan las protecciones proporcionadas por cada mitigación de protección contra vulnerabilidades, las consideraciones de compatibilidad para la mitigación y las opciones de configuración disponibles.</span><span class="sxs-lookup"><span data-stu-id="fd770-126">The following sections detail the protections provided by each exploit protection mitigation, the compatibility considerations for the mitigation, and the configuration options available.</span></span>

## <a name="arbitrary-code-guard"></a><span data-ttu-id="fd770-127">Protección de código arbitraria</span><span class="sxs-lookup"><span data-stu-id="fd770-127">Arbitrary code guard</span></span>

### <a name="description"></a><span data-ttu-id="fd770-128">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-128">Description</span></span>

<span data-ttu-id="fd770-129">La protección de código arbitraria ayuda a proteger contra un atacante malintencionado que carga el código de su elección en la memoria a través de una vulnerabilidad de seguridad de memoria y poder ejecutar ese código.</span><span class="sxs-lookup"><span data-stu-id="fd770-129">Arbitrary code guard helps protect against a malicious attacker loading the code of their choice into memory through a memory safety vulnerability and being able to execute that code.</span></span>

<span data-ttu-id="fd770-130">La protección de código arbitraria protege a una aplicación de la ejecución de código generado dinámicamente (código que no se carga, por ejemplo, del propio archivo exe o dll).</span><span class="sxs-lookup"><span data-stu-id="fd770-130">Arbitrary code guard protects an application from executing dynamically generated code (code that is not loaded, for example, from the exe itself or a dll).</span></span> <span data-ttu-id="fd770-131">La protección de código arbitraria funciona evitando que la memoria se marque como ejecutable.</span><span class="sxs-lookup"><span data-stu-id="fd770-131">Arbitrary code guard works by preventing memory from being marked as executable.</span></span> <span data-ttu-id="fd770-132">Cuando una aplicación intenta [asignar memoria,](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc)se comprueban las marcas de protección.</span><span class="sxs-lookup"><span data-stu-id="fd770-132">When an application attempts to [allocate memory](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), we check the protection flags.</span></span> <span data-ttu-id="fd770-133">(La memoria se puede asignar con marcas de protección de lectura, escritura o ejecución). Si la asignación intenta incluir la marca [*de*](/windows/win32/memory/memory-protection-constants) protección de ejecución, se produce un error en la asignación de memoria y se devuelve un código de error (STATUS_DYNAMIC_CODE_BLOCKED).</span><span class="sxs-lookup"><span data-stu-id="fd770-133">(Memory can be allocated with read, write, and/or execute protection flags.) If the allocation attempts to include the [*execute*](/windows/win32/memory/memory-protection-constants) protection flag, then the memory allocation fails and returns an error code (STATUS_DYNAMIC_CODE_BLOCKED).</span></span> <span data-ttu-id="fd770-134">Del mismo modo, si [](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) una aplicación intenta cambiar las marcas de protección [](/windows/win32/memory/memory-protection-constants) de memoria que ya se han asignado e incluye la marca de protección de ejecución, el cambio de permisos falla y devuelve un código de error (STATUS_DYNAMIC_CODE_BLOCKED).</span><span class="sxs-lookup"><span data-stu-id="fd770-134">Similarly, if an application attempts to [change the protection flags of memory](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) that has already been allocated and includes the [*execute*](/windows/win32/memory/memory-protection-constants) protection flag, then the permission change fails and returns an error code (STATUS_DYNAMIC_CODE_BLOCKED).</span></span>

<span data-ttu-id="fd770-135">Al impedir que *se establezca* la marca de ejecución, la característica de prevención de ejecución de datos de Windows 10 puede proteger contra el puntero de instrucción que se va a establecer en esa memoria y ejecutar ese código.</span><span class="sxs-lookup"><span data-stu-id="fd770-135">By preventing the *execute* flag from being set, the data execution prevention feature of Windows 10 can then protect against the instruction pointer being set to that memory and running that code.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-136">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-136">Compatibility considerations</span></span>

<span data-ttu-id="fd770-137">La protección de código arbitraria impide asignar cualquier memoria como ejecutable, lo que presenta un problema de compatibilidad con métodos como compiladores Just-in-Time (JIT).</span><span class="sxs-lookup"><span data-stu-id="fd770-137">Arbitrary code guard prevents allocating any memory as executable, which presents a compatibility issue with approaches such as Just-in-Time (JIT) compilers.</span></span> <span data-ttu-id="fd770-138">La mayoría de los exploradores modernos, por ejemplo, compilarán JavaScript en código nativo para optimizar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="fd770-138">Most modern browsers, for example, will compile JavaScript into native code in order to optimize performance.</span></span> <span data-ttu-id="fd770-139">Para admitir esta mitigación, tendrán que rearchitected para mover la compilación JIT fuera del proceso protegido.</span><span class="sxs-lookup"><span data-stu-id="fd770-139">In order to support this mitigation, they will need to be rearchitected to move the JIT compilation outside of the protected process.</span></span> <span data-ttu-id="fd770-140">Otras aplicaciones cuyo diseño genera dinámicamente código a partir de scripts u otros lenguajes intermedios serán igualmente incompatibles con esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-140">Other applications whose design dynamically generates code from scripts or other intermediate languages will be similarly incompatible with this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-141">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-141">Configuration options</span></span>

<span data-ttu-id="fd770-142">**Permitir la exclusión de subprocesos:** puede configurar la mitigación para permitir que un subproceso individual opte por no participar en esta protección.</span><span class="sxs-lookup"><span data-stu-id="fd770-142">**Allow thread opt-out** - You can configure the mitigation to allow an individual thread to opt-out of this protection.</span></span> <span data-ttu-id="fd770-143">El desarrollador debe haber escrito la aplicación con conocimiento de esta mitigación y haber llamado a la API [**SetThreadInformation**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) con el parámetro *ThreadInformation* establecido en **ThreadDynamicCodePolicy** para poder ejecutar código dinámico en este subproceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-143">The developer must have written the application with awareness of this mitigation, and have called the [**SetThreadInformation**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) API with the *ThreadInformation* parameter set to **ThreadDynamicCodePolicy** in order to be allowed to execute dynamic code on this thread.</span></span>

<span data-ttu-id="fd770-144">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-144">**Audit only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-145">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-145">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-low-integrity-images"></a><span data-ttu-id="fd770-146">Bloquear imágenes de baja integridad</span><span class="sxs-lookup"><span data-stu-id="fd770-146">Block low integrity images</span></span>

### <a name="description"></a><span data-ttu-id="fd770-147">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-147">Description</span></span>

<span data-ttu-id="fd770-148">Bloquear imágenes de baja integridad impide que la aplicación cargue archivos que no son de confianza, normalmente porque se han descargado de Internet desde un explorador de espacio aislado.</span><span class="sxs-lookup"><span data-stu-id="fd770-148">Block low integrity images prevents the application from loading files that are untrusted, typically because they have been downloaded from the internet from a sandboxed browser.</span></span>

<span data-ttu-id="fd770-149">Esta mitigación bloqueará las cargas de imágenes si la imagen tiene una entrada de control de acceso (ACE) que concede acceso a los procesos de IL baja y que no tiene una ace de etiqueta de confianza.</span><span class="sxs-lookup"><span data-stu-id="fd770-149">This mitigation will block image loads if the image has an Access Control Entry (ACE) which grants access to Low IL processes and which does not have a trust label ACE.</span></span> <span data-ttu-id="fd770-150">Lo implementa el administrador de memoria, que impide que el archivo se asigne a la memoria.</span><span class="sxs-lookup"><span data-stu-id="fd770-150">It is implemented by the memory manager, which blocks the file from being mapped into memory.</span></span> <span data-ttu-id="fd770-151">Si una aplicación intenta asignar una imagen de baja integridad, desencadenará un error STATUS_ACCESS_DENIED.</span><span class="sxs-lookup"><span data-stu-id="fd770-151">If an application attempts to map a low integrity image, it will trigger a STATUS_ACCESS_DENIED error.</span></span> <span data-ttu-id="fd770-152">Para obtener más información sobre cómo funcionan los niveles de integridad, vea [Mandatory Integrity Control](/windows/win32/secauthz/mandatory-integrity-control).</span><span class="sxs-lookup"><span data-stu-id="fd770-152">For details on how integrity levels work, see [Mandatory Integrity Control](/windows/win32/secauthz/mandatory-integrity-control).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-153">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-153">Compatibility considerations</span></span>

<span data-ttu-id="fd770-154">Bloquear imágenes de baja integridad impedirá que la aplicación cargue los archivos que se descargaron de Internet.</span><span class="sxs-lookup"><span data-stu-id="fd770-154">Block low integrity images will prevent the application from loading files that were downloaded from the internet.</span></span> <span data-ttu-id="fd770-155">Si el flujo de trabajo de la aplicación requiere cargar imágenes que se descargan, querrá asegurarse de que se descargan de un proceso de mayor confianza o que se vuelvan a etiquetar explícitamente para aplicar esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-155">If your application workflow requires loading images that are downloaded, you will want to ensure that they are downloaded from a higher-trust process, or are explicitly relabeled in order to apply this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-156">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-156">Configuration options</span></span>

<span data-ttu-id="fd770-157">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-157">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-158">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-158">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-remote-images"></a><span data-ttu-id="fd770-159">Bloquear imágenes remotas</span><span class="sxs-lookup"><span data-stu-id="fd770-159">Block remote images</span></span>

### <a name="description"></a><span data-ttu-id="fd770-160">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-160">Description</span></span>

<span data-ttu-id="fd770-161">El bloqueo de imágenes remotas ayuda a impedir que la aplicación cargue archivos hospedados en un dispositivo remoto, como un recurso compartido UNC.</span><span class="sxs-lookup"><span data-stu-id="fd770-161">Blocking remote images helps to prevent the application from loading files that are hosted on a remote device, such as a UNC share.</span></span> <span data-ttu-id="fd770-162">El bloqueo de imágenes remotas ayuda a proteger contra la carga de archivos binarios en la memoria que se encuentran en un dispositivo externo controlado por el atacante.</span><span class="sxs-lookup"><span data-stu-id="fd770-162">Blocking remote images helps protect against loading binaries into memory that are on an external device controlled by the attacker.</span></span>

<span data-ttu-id="fd770-163">Esta mitigación bloqueará las cargas de imágenes si se determina que la imagen está en un dispositivo remoto.</span><span class="sxs-lookup"><span data-stu-id="fd770-163">This mitigation will block image loads if the image is determined to be on a remote device.</span></span> <span data-ttu-id="fd770-164">Lo implementa el administrador de memoria, que impide que el archivo se asigne a la memoria.</span><span class="sxs-lookup"><span data-stu-id="fd770-164">It is implemented by the memory manager, which blocks the file from being mapped into memory.</span></span> <span data-ttu-id="fd770-165">Si una aplicación intenta asignar un archivo remoto, desencadenará un STATUS_ACCESS_DENIED error.</span><span class="sxs-lookup"><span data-stu-id="fd770-165">If an application attempts to map a remote file, it will trigger a STATUS_ACCESS_DENIED error.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-166">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-166">Compatibility considerations</span></span>

<span data-ttu-id="fd770-167">Bloquear imágenes remotas impedirá que la aplicación cargue imágenes desde dispositivos remotos.</span><span class="sxs-lookup"><span data-stu-id="fd770-167">Block remote images will prevent the application from loading images from remote devices.</span></span> <span data-ttu-id="fd770-168">Si la aplicación carga archivos o complementos desde dispositivos remotos, no será compatible con esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-168">If your application loads files or plug-ins from remote devices, then it will not be compatible with this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-169">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-169">Configuration options</span></span>

<span data-ttu-id="fd770-170">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-170">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-171">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-171">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-untrusted-fonts"></a><span data-ttu-id="fd770-172">Bloquear fuentes que no son de confianza</span><span class="sxs-lookup"><span data-stu-id="fd770-172">Block untrusted fonts</span></span>

### <a name="description"></a><span data-ttu-id="fd770-173">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-173">Description</span></span>

<span data-ttu-id="fd770-174">Bloquear fuentes que no son de confianza mitiga el riesgo de un error en el análisis de fuentes que hace que el atacante pueda ejecutar código en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fd770-174">Block untrusted fonts mitigates the risk of a flaw in font parsing leading to the attacker being able to run code on the device.</span></span> <span data-ttu-id="fd770-175">Solo las fuentes instaladas en el directorio windows\fonts se cargarán para su procesamiento por GDI.</span><span class="sxs-lookup"><span data-stu-id="fd770-175">Only fonts that are installed into the windows\fonts directory will be loaded for processing by GDI.</span></span>

<span data-ttu-id="fd770-176">Esta mitigación se implementa en GDI, que valida la ubicación del archivo.</span><span class="sxs-lookup"><span data-stu-id="fd770-176">This mitigation is implemented within GDI, which validates the location of the file.</span></span> <span data-ttu-id="fd770-177">Si el archivo no está en el directorio de fuentes del sistema, la fuente no se cargará para el análisis y esa llamada producirá un error.</span><span class="sxs-lookup"><span data-stu-id="fd770-177">If the file is not in the system fonts directory, the font will not be loaded for parsing and that call will fail.</span></span>

<span data-ttu-id="fd770-178">Esta mitigación se suma a la mitigación integrada proporcionada en Windows 10 1607 y versiones posteriores, que mueve el análisis de fuentes fuera del kernel y a un contenedor de aplicaciones en modo de usuario.</span><span class="sxs-lookup"><span data-stu-id="fd770-178">This mitigation is in addition to the built-in mitigation provided in Windows 10 1607 and later, which moves font parsing out of the kernel and into a user-mode app container.</span></span> <span data-ttu-id="fd770-179">Cualquier vulnerabilidad basada en el análisis de fuentes, como resultado, se produce en un contexto aislado y aislado, lo que reduce significativamente el riesgo.</span><span class="sxs-lookup"><span data-stu-id="fd770-179">Any exploit based on font parsing, as a result, happens in a sandboxed and isolated context, which reduces the risk significantly.</span></span> <span data-ttu-id="fd770-180">Para obtener más información sobre esta mitigación, consulte el blog [Hardening Windows 10 with zero-day exploit mitigations](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/).</span><span class="sxs-lookup"><span data-stu-id="fd770-180">For details on this mitigation, see the blog [Hardening Windows 10 with zero-day exploit mitigations](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-181">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-181">Compatibility considerations</span></span>

<span data-ttu-id="fd770-182">El uso más común de fuentes fuera del directorio de fuentes del sistema es con [fuentes web.](/typography/fonts/font-faq#web)</span><span class="sxs-lookup"><span data-stu-id="fd770-182">The most common use of fonts outside of the system fonts directory is with [web fonts](/typography/fonts/font-faq#web).</span></span> <span data-ttu-id="fd770-183">Los exploradores modernos, como Microsoft Edge, usan DirectWrite en lugar de GDI y no se verán afectados.</span><span class="sxs-lookup"><span data-stu-id="fd770-183">Modern browsers, such as Microsoft Edge, use DirectWrite instead of GDI, and are not impacted.</span></span> <span data-ttu-id="fd770-184">Sin embargo, los exploradores heredados, como Internet Explorer 11 (y el modo IE en el nuevo Microsoft Edge) se pueden ver afectados, especialmente con aplicaciones como Office 365, que usan glifos de fuente para mostrar la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="fd770-184">However, legacy browsers, such as Internet Explorer 11 (and IE mode in the new Microsoft Edge) can be impacted, particularly with applications such as Office 365, which use font glyphs to display UI.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-185">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-185">Configuration options</span></span>

<span data-ttu-id="fd770-186">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-186">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-187">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-187">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="code-integrity-guard"></a><span data-ttu-id="fd770-188">Protección de integridad de código</span><span class="sxs-lookup"><span data-stu-id="fd770-188">Code integrity guard</span></span>

### <a name="description"></a><span data-ttu-id="fd770-189">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-189">Description</span></span>

<span data-ttu-id="fd770-190">La protección de integridad de código garantiza que Microsoft firme digitalmente todos los archivos binarios cargados en un proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-190">Code integrity guard ensures that all binaries loaded into a process are digitally signed by Microsoft.</span></span> <span data-ttu-id="fd770-191">La protección de integridad de código incluye firmas [WHQL](/windows-hardware/drivers/install/whql-release-signature) (Windows Hardware Quality Labs), lo que permitirá que los controladores aprobados por WHQL se ejecuten dentro del proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-191">Code integrity guard includes [WHQL](/windows-hardware/drivers/install/whql-release-signature) (Windows Hardware Quality Labs) signatures, which will allow WHQL-approved drivers to run within the process.</span></span>

<span data-ttu-id="fd770-192">Esta mitigación se implementa en el administrador de memoria, lo que impide que el binario se asigne a la memoria.</span><span class="sxs-lookup"><span data-stu-id="fd770-192">This mitigation is implemented within the memory manager, which blocks the binary from being mapped into memory.</span></span> <span data-ttu-id="fd770-193">Si intenta cargar un binario que No está firmado por Microsoft, el administrador de memoria devolverá el error STATUS_INVALID_IMAGE_HASH.</span><span class="sxs-lookup"><span data-stu-id="fd770-193">If you attempt to load a binary that is not signed by Microsoft, the memory manger will return the error STATUS_INVALID_IMAGE_HASH.</span></span> <span data-ttu-id="fd770-194">Al bloquear en el nivel del administrador de memoria, se evitan los archivos binarios cargados por el proceso y los archivos binarios que se insertan en el proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-194">By blocking at the memory manager level, this prevents both binaries loaded by the process and binaries injected into the process.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-195">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-195">Compatibility considerations</span></span>

<span data-ttu-id="fd770-196">Esta mitigación bloquea específicamente cualquier binario que no esté firmado por Microsoft.</span><span class="sxs-lookup"><span data-stu-id="fd770-196">This mitigation specifically blocks any binary that is not signed by Microsoft.</span></span> <span data-ttu-id="fd770-197">Por lo tanto, será incompatible con la mayoría del software de terceros, a menos que el Microsoft Store lo distribuye (y lo firme digitalmente) y se seleccione la opción para permitir la carga de imágenes firmadas por el Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="fd770-197">As such, it will be incompatible with most third-party software, unless that software is distributed by (and digitally signed by) the Microsoft Store, and the option to allow loading of images signed by the Microsoft Store is selected.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-198">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-198">Configuration options</span></span>

<span data-ttu-id="fd770-199">También permitir la carga de imágenes firmadas por **Microsoft Store:** las aplicaciones distribuidas por el Microsoft Store se firmarán digitalmente por el Microsoft Store y agregar esta configuración permitirá que los archivos binarios que han pasado por el proceso de certificación del almacén se carguen por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-199">**Also allow loading of images signed by Microsoft Store** - Applications that are distributed by the Microsoft Store will be digitally signed by the Microsoft Store, and adding this configuration will allow binaries that have gone through the store certification process to be loaded by the application.</span></span>

<span data-ttu-id="fd770-200">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-200">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-201">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-201">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="control-flow-guard-cfg"></a><span data-ttu-id="fd770-202">Protección de flujo de control (CFG)</span><span class="sxs-lookup"><span data-stu-id="fd770-202">Control flow guard (CFG)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-203">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-203">Description</span></span>

<span data-ttu-id="fd770-204">La protección de flujo de control (CFG) mitiga el riesgo de que los atacantes usen vulnerabilidades de daños en la memoria mediante la protección de llamadas a funciones indirectas.</span><span class="sxs-lookup"><span data-stu-id="fd770-204">Control flow guard (CFG) mitigates the risk of attackers using memory corruption vulnerabilities by protecting indirect function calls.</span></span> <span data-ttu-id="fd770-205">Por ejemplo, un atacante puede usar una vulnerabilidad de desbordamiento de búfer para sobrescribir la memoria que contiene un puntero de función y reemplazar ese puntero de función por un puntero al código ejecutable de su elección (que también se puede haber inyectado en el programa).</span><span class="sxs-lookup"><span data-stu-id="fd770-205">For example, an attacker may user a buffer overflow vulnerability to overwrite memory containing a function pointer, and replace that function pointer with a pointer to executable code of their choice (which may also have been injected into the program).</span></span>

<span data-ttu-id="fd770-206">Esta mitigación se proporciona mediante la inyección de otra comprobación en tiempo de compilación.</span><span class="sxs-lookup"><span data-stu-id="fd770-206">This mitigation is provided by injecting another check at compile time.</span></span> <span data-ttu-id="fd770-207">Antes de cada llamada de función indirecta, se agregan otras instrucciones que comprueban que el destino es un destino de llamada válido antes de que se llame.</span><span class="sxs-lookup"><span data-stu-id="fd770-207">Before each indirect function call, another instructions are added which verify that the target is a valid call target before it is called.</span></span> <span data-ttu-id="fd770-208">Si el destino no es un destino de llamada válido, la aplicación finaliza.</span><span class="sxs-lookup"><span data-stu-id="fd770-208">If the target is not a valid call target, then the application is terminated.</span></span> <span data-ttu-id="fd770-209">Por lo tanto, solo las aplicaciones compiladas con compatibilidad con CFG pueden beneficiarse de esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-209">As such, only applications that are compiled with CFG support can benefit from this mitigation.</span></span>

<span data-ttu-id="fd770-210">La comprobación de un destino válido la proporciona Windows kernel.</span><span class="sxs-lookup"><span data-stu-id="fd770-210">The check for a valid target is provided by the Windows kernel.</span></span> <span data-ttu-id="fd770-211">Cuando se cargan archivos ejecutables, los metadatos de los destinos de llamadas indirectos se extraen en tiempo de carga y se marcan como destinos de llamadas válidos.</span><span class="sxs-lookup"><span data-stu-id="fd770-211">When executable files are loaded, the metadata for indirect call targets is extracted at load time and marked as valid call targets.</span></span> <span data-ttu-id="fd770-212">Además, cuando la memoria se asigna y se marca como ejecutable (por ejemplo, para el código generado), estas ubicaciones de memoria también se marcan como destinos de llamadas válidos, para admitir mecanismos como la compilación de JIT.</span><span class="sxs-lookup"><span data-stu-id="fd770-212">Additionally, when memory is allocated and marked as executable (such as for generated code), these memory locations are also marked as valid call targets, to support mechanisms such as JIT compilation.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-213">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-213">Compatibility considerations</span></span>

<span data-ttu-id="fd770-214">Dado que las aplicaciones deben compilarse para admitir CFG, declaran implícitamente su compatibilidad con él.</span><span class="sxs-lookup"><span data-stu-id="fd770-214">Since applications must be compiled to support CFG, they implicitly declare their compatibility with it.</span></span> <span data-ttu-id="fd770-215">Por lo tanto, la mayoría de las aplicaciones deben funcionar con esta mitigación habilitada.</span><span class="sxs-lookup"><span data-stu-id="fd770-215">Most applications, therefore, should work with this mitigation enabled.</span></span> <span data-ttu-id="fd770-216">Dado que estas comprobaciones se compilan en el binario, la configuración que puede aplicar es simplemente para deshabilitar las comprobaciones dentro del kernel Windows.</span><span class="sxs-lookup"><span data-stu-id="fd770-216">Because these checks are compiled into the binary, the configuration you can apply is merely to disable checks within the Windows kernel.</span></span> <span data-ttu-id="fd770-217">En otras palabras, la mitigación está en modo predeterminado, pero puede configurar el kernel de Windows para que siempre devuelva "sí" si más adelante determina que hay un problema de compatibilidad que el desarrollador de aplicaciones no detectó en sus pruebas, lo que debería ser poco frecuente.</span><span class="sxs-lookup"><span data-stu-id="fd770-217">In other words, the mitigation is on by default, but you can configure the Windows kernel to always return "yes" if you later determine that there is a compatibility issue that the application developer did not discover in their testing, which should be rare.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-218">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-218">Configuration options</span></span>

<span data-ttu-id="fd770-219">**Usar CFG** estricto: en modo estricto, todos los archivos binarios cargados en el proceso deben compilarse para Control Flow Guard (o no tienen código ejecutable en ellos, como dll de recursos) para poder cargarse.</span><span class="sxs-lookup"><span data-stu-id="fd770-219">**Use strict CFG** - In strict mode, all binaries loaded into the process must be compiled for Control Flow Guard (or have no executable code in them - such as resource dlls) in order to be loaded.</span></span>

> [!Note]
> <span data-ttu-id="fd770-220">**La protección de flujo de** control no tiene modo de auditoría.</span><span class="sxs-lookup"><span data-stu-id="fd770-220">**Control flow guard** has no audit mode.</span></span> <span data-ttu-id="fd770-221">Los archivos binarios se compilan con esta mitigación habilitada.</span><span class="sxs-lookup"><span data-stu-id="fd770-221">Binaries are compiled with this mitigation enabled.</span></span>

## <a name="data-execution-prevention-dep"></a><span data-ttu-id="fd770-222">Prevención de ejecución de datos (DEP)</span><span class="sxs-lookup"><span data-stu-id="fd770-222">Data Execution Prevention (DEP)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-223">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-223">Description</span></span>

<span data-ttu-id="fd770-224">La prevención de ejecución de datos (DEP) impide que se ejecute la memoria que no se asignó explícitamente como ejecutable.</span><span class="sxs-lookup"><span data-stu-id="fd770-224">Data execution prevention (DEP) prevents memory that was not explicitly allocated as executable from being executed.</span></span> <span data-ttu-id="fd770-225">DEP ayuda a proteger contra un atacante que inserta código malintencionado en el proceso, por ejemplo, a través de un desbordamiento de búfer y, a continuación, ejecuta ese código.</span><span class="sxs-lookup"><span data-stu-id="fd770-225">DEP helps protect against an attacker injecting malicious code into the process, such as through a buffer overflow, and then executing that code.</span></span>

<span data-ttu-id="fd770-226">Si intenta establecer el puntero de instrucción en una dirección de memoria no marcada como ejecutable, el procesador producirá una excepción (infracción de protección general), lo que provocará que la aplicación se bloquea.</span><span class="sxs-lookup"><span data-stu-id="fd770-226">If you attempt to set the instruction pointer to a memory address not marked as executable, the processor will throw an exception (general-protection violation), causing the application to crash.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-227">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-227">Compatibility considerations</span></span>

<span data-ttu-id="fd770-228">Todos los ejecutables x64, ARM y ARM-64 tienen DEP habilitado de forma predeterminada y no se puede deshabilitar.</span><span class="sxs-lookup"><span data-stu-id="fd770-228">All x64, ARM, and ARM-64 executables have DEP enabled by default, and it cannot be disabled.</span></span> <span data-ttu-id="fd770-229">Dado que una aplicación nunca se habrá ejecutado sin DEP, se asume la compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="fd770-229">Since an application will have never been executed without DEP, compatibility is assumed.</span></span>

<span data-ttu-id="fd770-230">Todos los archivos binarios x86 (32 bits) tienen DEP habilitado de forma predeterminada, pero DEP se puede deshabilitar por proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-230">All x86 (32-bit) binaries have DEP enabled by default, but DEP can be disabled per process.</span></span> <span data-ttu-id="fd770-231">Es posible que algunas aplicaciones heredadas antiguas, normalmente aplicaciones desarrolladas antes de Windows XP SP2, no sean compatibles con DEP.</span><span class="sxs-lookup"><span data-stu-id="fd770-231">Some old legacy applications, typically applications developed prior to Windows XP SP2, might not be compatible with DEP.</span></span> <span data-ttu-id="fd770-232">Estas aplicaciones suelen generar código dinámicamente (por ejemplo, compilación de JIT) o vínculo a bibliotecas antiguas (como versiones anteriores de ATL) que generan código dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="fd770-232">Such applications typically generate code dynamically (for example, JIT compiling) or link to older libraries (such as older versions of ATL) which dynamically generate code.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-233">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-233">Configuration options</span></span>

<span data-ttu-id="fd770-234">**Habilitar la emulación de Thunk atl:** esta opción de configuración deshabilita la emulación de Atl Thunk.</span><span class="sxs-lookup"><span data-stu-id="fd770-234">**Enable ATL Thunk emulation** - This configuration option disables ATL Thunk emulation.</span></span> <span data-ttu-id="fd770-235">ATL, la ActiveX de plantillas, está diseñada para ser lo más pequeña y rápida posible.</span><span class="sxs-lookup"><span data-stu-id="fd770-235">ATL, the ActiveX Template Library, is designed to be as small and fast as possible.</span></span> <span data-ttu-id="fd770-236">Para reducir el tamaño binario, usaría una técnica denominada *thunking*.</span><span class="sxs-lookup"><span data-stu-id="fd770-236">In order to reduce binary size, it would use a technique called *thunking*.</span></span> <span data-ttu-id="fd770-237">La thunking suele estar pensado para interactuar entre aplicaciones de 32 bits y 16 bits, pero aquí no hay componentes de 16 bits para ATL.</span><span class="sxs-lookup"><span data-stu-id="fd770-237">Thunking is typically thought of for interacting between 32-bit and 16-bit applications, but there are no 16-bit components to ATL here.</span></span> <span data-ttu-id="fd770-238">En su lugar, para optimizar el tamaño binario, ATL almacenará código de máquina en la memoria que no esté alineado con palabras (creando un binario más pequeño) y, a continuación, invocará ese código directamente.</span><span class="sxs-lookup"><span data-stu-id="fd770-238">Rather, in order to optimize for binary size, ATL will store machine code in memory that is not word-aligned (creating a smaller binary), and then invoke that code directly.</span></span> <span data-ttu-id="fd770-239">Los componentes ATL compilados con Visual Studio 7.1 o versiones anteriores (Visual Studio 2003) no asignan esta memoria como ejecutable: la emulación de thunk resuelve ese problema de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="fd770-239">ATL components compiled with Visual Studio 7.1 or earlier (Visual Studio 2003) do not allocate this memory as executable - thunk emulation resolves that compatibility issue.</span></span> <span data-ttu-id="fd770-240">Las aplicaciones que tienen un modelo de extensión binaria (como Internet Explorer 11) a menudo tendrán que tener habilitada la emulación de Thunk atl.</span><span class="sxs-lookup"><span data-stu-id="fd770-240">Applications that have a binary extension model (such as Internet Explorer 11) will often need to have ATL Thunk emulation enabled.</span></span>

## <a name="disable-extension-points"></a><span data-ttu-id="fd770-241">Deshabilitar puntos de extensión</span><span class="sxs-lookup"><span data-stu-id="fd770-241">Disable extension points</span></span>

### <a name="description"></a><span data-ttu-id="fd770-242">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-242">Description</span></span>

<span data-ttu-id="fd770-243">Esta mitigación deshabilita varios puntos de extensión para una aplicación, que podrían usarse para establecer la persistencia o elevar los privilegios de contenido malintencionado.</span><span class="sxs-lookup"><span data-stu-id="fd770-243">This mitigation disables various extension points for an application, which might be used to establish persistence or elevate privileges of malicious content.</span></span>

<span data-ttu-id="fd770-244">Esto incluye:</span><span class="sxs-lookup"><span data-stu-id="fd770-244">This includes:</span></span>

- <span data-ttu-id="fd770-245">**DLL de AppInit:** cada vez que se inicia un proceso, el sistema cargará la DLL especificada en el contexto del proceso recién iniciado antes de llamar a su función de punto de entrada.</span><span class="sxs-lookup"><span data-stu-id="fd770-245">**AppInit DLLs** - Whenever a process starts, the system will load the specified DLL into to context of the newly started process before calling its entry point function.</span></span> <span data-ttu-id="fd770-246">[Los detalles de las DLL de AppInit se pueden encontrar aquí](/windows/win32/winmsg/about-window-classes#application-global-classes).</span><span class="sxs-lookup"><span data-stu-id="fd770-246">[Details on AppInit DLLs can be found here](/windows/win32/winmsg/about-window-classes#application-global-classes).</span></span> <span data-ttu-id="fd770-247">Con esta mitigación aplicada, las DLL de AppInit no se cargan.</span><span class="sxs-lookup"><span data-stu-id="fd770-247">With this mitigation applied, AppInit DLLs are not loaded.</span></span> <span data-ttu-id="fd770-248">A partir de Windows 7, las DLL de AppInit deben firmarse digitalmente, [como se describe aquí](/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2).</span><span class="sxs-lookup"><span data-stu-id="fd770-248">Beginning with Windows 7, AppInit DLLs need to be digitally signed, [as described here](/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2).</span></span> <span data-ttu-id="fd770-249">Además, a partir de Windows 8, las DLL de AppInit no se cargarán si SecureBoot está habilitado, [como se describe aquí](/windows/win32/dlls/secure-boot-and-appinit-dlls).</span><span class="sxs-lookup"><span data-stu-id="fd770-249">Additionally, beginning with Windows 8, AppInit DLLs will not be loaded if SecureBoot is enabled, [as described here](/windows/win32/dlls/secure-boot-and-appinit-dlls).</span></span>
- <span data-ttu-id="fd770-250">**IME** heredado: un Editor de métodos de entrada (IME) permite al usuario escribir texto en un idioma con más caracteres de los que se pueden representar en un teclado.</span><span class="sxs-lookup"><span data-stu-id="fd770-250">**Legacy IMEs** - An Input Method Editor (IME) allows a user to type text in a language that has more characters than can be represented on a keyboard.</span></span> <span data-ttu-id="fd770-251">Los terceros pueden crear EME.</span><span class="sxs-lookup"><span data-stu-id="fd770-251">Third parties are able to create IMEs.</span></span> <span data-ttu-id="fd770-252">Un IME malintencionado puede obtener credenciales u otra información confidencial de esta captura de entrada.</span><span class="sxs-lookup"><span data-stu-id="fd770-252">A malicious IME might obtain credentials or other sensitive information from this input capture.</span></span> <span data-ttu-id="fd770-253">Algunas MIE, denominadas IME heredadas, solo funcionarán en aplicaciones de escritorio Windows aplicaciones de escritorio y no en aplicaciones para UWP.</span><span class="sxs-lookup"><span data-stu-id="fd770-253">Some IMEs, referred to as Legacy IMEs, will only work on Windows Desktop apps, and not UWP apps.</span></span> <span data-ttu-id="fd770-254">Esta mitigación también impedirá que este IME heredado se cargue en la aplicación Windows escritorio especificada.</span><span class="sxs-lookup"><span data-stu-id="fd770-254">This mitigation will also prevent this legacy IME from loading into the specified Windows Desktop app.</span></span>
- <span data-ttu-id="fd770-255">**Windows de eventos:** una aplicación puede llamar a la [API SetWinEventHook](/windows/win32/api/winuser/nf-winuser-setwineventhook) para registrar el interés en un evento que tiene lugar.</span><span class="sxs-lookup"><span data-stu-id="fd770-255">**Windows Event Hooks** - An application can call the [SetWinEventHook API](/windows/win32/api/winuser/nf-winuser-setwineventhook) to register interest in an event taking place.</span></span> <span data-ttu-id="fd770-256">Se especifica una DLL y se puede insertar en el proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-256">A DLL is specified and can be injected into the process.</span></span> <span data-ttu-id="fd770-257">Esta mitigación fuerza que el enlace se publique en el proceso de registro en lugar de ejecutarse en proceso a través de un DLL inyectado.</span><span class="sxs-lookup"><span data-stu-id="fd770-257">This mitigation forces the hook to be posted to the registering process rather than running in-process through an injected DLL.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-258">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-258">Compatibility considerations</span></span>

<span data-ttu-id="fd770-259">La mayoría de estos puntos de extensión se usan con relativa frecuencia, por lo que el impacto en la compatibilidad suele ser pequeño, especialmente en un nivel de aplicación individual.</span><span class="sxs-lookup"><span data-stu-id="fd770-259">Most of these extension points are relatively infrequently used, so compatibility impact is typically small, particularly at an individual application level.</span></span> <span data-ttu-id="fd770-260">La única consideración es si los usuarios usan IME heredadas de terceros que no funcionarán con la aplicación protegida.</span><span class="sxs-lookup"><span data-stu-id="fd770-260">The one consideration is if users are using third-party Legacy IMEs that will not work with the protected application.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-261">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-261">Configuration options</span></span>

<span data-ttu-id="fd770-262">No hay opciones de configuración para esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-262">There are no configuration options for this mitigation.</span></span>

> [!Note]
> <span data-ttu-id="fd770-263">**Deshabilitar puntos de extensión** no tiene modo de auditoría.</span><span class="sxs-lookup"><span data-stu-id="fd770-263">**Disable extension points** has no audit mode.</span></span>

## <a name="disable-win32k-system-calls"></a><span data-ttu-id="fd770-264">Deshabilitar llamadas del sistema Win32k</span><span class="sxs-lookup"><span data-stu-id="fd770-264">Disable Win32k system calls</span></span>

### <a name="description"></a><span data-ttu-id="fd770-265">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-265">Description</span></span>

<span data-ttu-id="fd770-266">Win32k.sys proporciona una amplia superficie de ataque para un atacante.</span><span class="sxs-lookup"><span data-stu-id="fd770-266">Win32k.sys provides a broad attack surface for an attacker.</span></span> <span data-ttu-id="fd770-267">Como componente de modo kernel, con frecuencia se usa como vector de escape para aplicaciones que están en espacio aislado.</span><span class="sxs-lookup"><span data-stu-id="fd770-267">As a kernel-mode component, it is frequently targeted as an escape vector for applications that are sandboxed.</span></span> <span data-ttu-id="fd770-268">Esta mitigación evita las llamadas a win32k.sys bloqueando que un subproceso se convierta en un subproceso gui, al que se le da acceso para invocar funciones de Win32k.</span><span class="sxs-lookup"><span data-stu-id="fd770-268">This mitigation prevents calls into win32k.sys by blocking a thread from converting itself into a GUI thread, which is then given access to invoke Win32k functions.</span></span> <span data-ttu-id="fd770-269">Un subproceso no es GUI cuando se crea, pero se convierte en la primera llamada a win32k.sys, o a través de una llamada API a [IsGuiThread](/windows/win32/api/winuser/nf-winuser-isguithread).</span><span class="sxs-lookup"><span data-stu-id="fd770-269">A thread is non-GUI when created, but converted on first call to win32k.sys, or through an API call to [IsGuiThread](/windows/win32/api/winuser/nf-winuser-isguithread).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-270">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-270">Compatibility considerations</span></span>

<span data-ttu-id="fd770-271">Esta mitigación está diseñada para procesos que no son procesos dedicados a la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="fd770-271">This mitigation is designed for processes that are dedicated non-UI processes.</span></span> <span data-ttu-id="fd770-272">Por ejemplo, muchos exploradores modernos usarán el aislamiento de procesos e incorporarán procesos que no son de interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="fd770-272">For example, many modern browsers will use process isolation and incorporate non-UI processes.</span></span> <span data-ttu-id="fd770-273">Esta mitigación afectará a cualquier aplicación que muestre una GUI con un solo proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-273">Any application that displays a GUI using a single process will be impacted by this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-274">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-274">Configuration options</span></span>

<span data-ttu-id="fd770-275">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-275">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-276">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-276">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="do-not-allow-child-processes"></a><span data-ttu-id="fd770-277">No permitir procesos secundarios</span><span class="sxs-lookup"><span data-stu-id="fd770-277">Do not allow child processes</span></span>

### <a name="description"></a><span data-ttu-id="fd770-278">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-278">Description</span></span>

<span data-ttu-id="fd770-279">Esta mitigación impide que una aplicación cree nuevas aplicaciones secundarias.</span><span class="sxs-lookup"><span data-stu-id="fd770-279">This mitigation prevents an application from creating new child applications.</span></span> <span data-ttu-id="fd770-280">Una técnica común que usan los adversarios es iniciar un proceso de confianza en el dispositivo con entrada malintencionada (un ataque de "vivir fuera de la tierra"), que a menudo requiere iniciar otra aplicación en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fd770-280">A common technique used by adversaries is to initiate a trusted process on the device with malicious input (a "living off the land" attack), which often requires launching another application on the device.</span></span> <span data-ttu-id="fd770-281">Si no hay razones legítimas por las que una aplicación iniciaría un proceso secundario, esta mitigación mitiga ese vector de ataque potencial.</span><span class="sxs-lookup"><span data-stu-id="fd770-281">If there are no legitimate reasons why an application would launch a child process, this mitigation mitigates that potential attack vector.</span></span> <span data-ttu-id="fd770-282">La mitigación se aplica estableciendo una propiedad en el token de proceso, que bloquea la creación de un token para el proceso secundario con el mensaje de error STATUS_CHILD_PROCESS_BLOCKED.</span><span class="sxs-lookup"><span data-stu-id="fd770-282">The mitigation is applied by setting a property on the process token, which blocks creating a token for the child process with the error message STATUS_CHILD_PROCESS_BLOCKED.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-283">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-283">Compatibility considerations</span></span>

<span data-ttu-id="fd770-284">Si la aplicación inicia aplicaciones secundarias por cualquier motivo, como admitir hipervínculos que inician un explorador o un explorador externo, o que inician otras utilidades en el equipo, esta funcionalidad se romperá con esta mitigación aplicada.</span><span class="sxs-lookup"><span data-stu-id="fd770-284">If your application launches child applications for any reason, such as supporting hyperlinks that launch a browser or an external browser, or which launch other utilities on the computer, this functionality will be broken with this mitigation applied.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-285">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-285">Configuration options</span></span>

<span data-ttu-id="fd770-286">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-286">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-287">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-287">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="export-address-filtering"></a><span data-ttu-id="fd770-288">Exportar filtrado de direcciones</span><span class="sxs-lookup"><span data-stu-id="fd770-288">Export address filtering</span></span>

### <a name="description"></a><span data-ttu-id="fd770-289">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-289">Description</span></span>

<span data-ttu-id="fd770-290">El filtrado de direcciones de exportación (EAF) mitiga el riesgo de código malintencionado en la tabla de direcciones de exportación de todos los módulos cargados para buscar módulos que contengan API útiles para su ataque.</span><span class="sxs-lookup"><span data-stu-id="fd770-290">Export address filtering (EAF) mitigates the risk of malicious code looking at the export address table of all loaded modules to find modules that contain useful APIs for their attack.</span></span> <span data-ttu-id="fd770-291">Esta es una táctica común usada por shellcode.</span><span class="sxs-lookup"><span data-stu-id="fd770-291">This is a common tactic used by shellcode.</span></span> <span data-ttu-id="fd770-292">Para mitigar el riesgo de un ataque de este tipo, esta mitigación protege tres módulos de ataque común:</span><span class="sxs-lookup"><span data-stu-id="fd770-292">In order to mitigate the risk of such an attack, this mitigation protects three commonly attacked modules:</span></span>

- <span data-ttu-id="fd770-293">ntdll.dll</span><span class="sxs-lookup"><span data-stu-id="fd770-293">ntdll.dll</span></span>
- <span data-ttu-id="fd770-294">kernelbase.dll</span><span class="sxs-lookup"><span data-stu-id="fd770-294">kernelbase.dll</span></span>
- <span data-ttu-id="fd770-295">kernel32.dll</span><span class="sxs-lookup"><span data-stu-id="fd770-295">kernel32.dll</span></span>

<span data-ttu-id="fd770-296">La mitigación protege la página de memoria del [directorio de exportación que apunta a la [tabla de direcciones de exportación](/windows/win32/debug/pe-format#export-address-table).</span><span class="sxs-lookup"><span data-stu-id="fd770-296">The mitigation protects the memory page in the [export directory that points to the [export address table](/windows/win32/debug/pe-format#export-address-table).</span></span> <span data-ttu-id="fd770-297">Esta página de memoria tendrá la [protección PAGE_GUARD](/windows/win32/memory/creating-guard-pages) aplicación a ella.</span><span class="sxs-lookup"><span data-stu-id="fd770-297">This memory page will have the [PAGE_GUARD](/windows/win32/memory/creating-guard-pages) protection applied to it.</span></span> <span data-ttu-id="fd770-298">Cuando alguien intenta obtener acceso a esta memoria, generará un STATUS_GUARD_PAGE_VIOLATION.</span><span class="sxs-lookup"><span data-stu-id="fd770-298">When someone tries to access this memory, it will generate a STATUS_GUARD_PAGE_VIOLATION.</span></span> <span data-ttu-id="fd770-299">La mitigación controla esta excepción y, si la instrucción de acceso no pasa la validación, se finalizará el proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-299">The mitigation handles this exception, and if the accessing instruction doesn't pass validation, the process will be terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-300">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-300">Compatibility considerations</span></span>

<span data-ttu-id="fd770-301">Esta mitigación es principalmente un problema para aplicaciones como depuradores, aplicaciones de espacio aislado, aplicaciones que usan DRM o aplicaciones que implementan tecnología contra la depuración.</span><span class="sxs-lookup"><span data-stu-id="fd770-301">This mitigation is primarily an issue for applications such as debuggers, sandboxed applications, applications using DRM, or applications that implement anti-debugging technology.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-302">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-302">Configuration options</span></span>

<span data-ttu-id="fd770-303">**Validar el acceso a módulos** que se abusan habitualmente de vulnerabilidades de seguridad: esta opción, también conocida como EAF+, agrega protecciones para otros módulos con ataques comunes:</span><span class="sxs-lookup"><span data-stu-id="fd770-303">**Validate access for modules that are commonly abused by exploits** - This option, also known as EAF+, adds protections for other commonly attacked modules:</span></span>

- `mshtml.dll`
- `flash*.ocx`
- `jscript*.ocx`
- `vbscript.dll`
- `vgx.dll`
- `mozjs.dll`
- `xul.dll`
- `acrord32.dll`
- `acrofx32.dll`
- `acroform.api`

<span data-ttu-id="fd770-304">Además, al habilitar EAF+, esta mitigación agrega la protección PAGE_GUARD a la página que contiene el encabezado "MZ", los dos primeros bytes del encabezado DOS en un archivo [PE](/windows/win32/debug/pe-format#ms-dos-stub-image-only), que es otro aspecto del contenido de memoria conocido que el shellcode puede buscar para identificar módulos potencialmente de interés en la memoria.</span><span class="sxs-lookup"><span data-stu-id="fd770-304">Additionally, by enabling EAF+, this mitigation adds the PAGE_GUARD protection to the page containing the "MZ" header, the first two bytes of the [DOS header in a PE file](/windows/win32/debug/pe-format#ms-dos-stub-image-only), which is another aspect of known memory content which shellcode can look for to identify modules potentially of interest in memory.</span></span>

<span data-ttu-id="fd770-305">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-305">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-306">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-306">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="force-randomization-for-images-mandatory-aslr"></a><span data-ttu-id="fd770-307">Forzar la aleatorización de imágenes (ASLR obligatoria)</span><span class="sxs-lookup"><span data-stu-id="fd770-307">Force randomization for images (Mandatory ASLR)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-308">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-308">Description</span></span>

<span data-ttu-id="fd770-309">La aleatorización de diseño de espacio de direcciones (ASLR) mitiga el riesgo de que un atacante use su conocimiento del diseño de memoria del sistema para ejecutar código que ya está presente en la memoria del proceso y que ya está marcado como ejecutable.</span><span class="sxs-lookup"><span data-stu-id="fd770-309">Address Space Layout Randomization (ASLR) mitigates the risk of an attacker using their knowledge of the memory layout of the system in order to execute code that is already present in process memory and already marked as executable.</span></span> <span data-ttu-id="fd770-310">Esto puede mitigar el riesgo de que un atacante use técnicas como los ataques de retorno a libc, donde el adversario establece el contexto y, a continuación, modifica la dirección de devolución para ejecutar código existente con contexto que se adapte a la finalidad del adversario.</span><span class="sxs-lookup"><span data-stu-id="fd770-310">This can mitigate the risk of an attacker using techniques such as return-to-libc attacks, where the adversary sets the context and then modifies the return address to execute existing code with context that suits the adversary's purpose.</span></span>

<span data-ttu-id="fd770-311">Aslr obligatorio fuerza una nueva base de todas las DLL dentro del proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-311">Mandatory ASLR forces a rebase of all DLLs within the process.</span></span> <span data-ttu-id="fd770-312">Un desarrollador puede habilitar ASLR mediante la opción de vinculador [/DYNAMICBASE](/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2019&preserve-view=true) y esta mitigación tiene el mismo efecto.</span><span class="sxs-lookup"><span data-stu-id="fd770-312">A developer can enable ASLR using the [/DYNAMICBASE](/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2019&preserve-view=true) linker option, and this mitigation has the same effect.</span></span>

<span data-ttu-id="fd770-313">Cuando el administrador de memoria asigna en la imagen al proceso, ASLR obligatorio volverá a base de archivos DLL y EXE que no han optado por ASLR.</span><span class="sxs-lookup"><span data-stu-id="fd770-313">When the memory manager is mapping in the image into the process, Mandatory ASLR will forcibly rebase DLLs and EXEs that have not opted in to ASLR.</span></span> <span data-ttu-id="fd770-314">Sin embargo, tenga en cuenta que este rebasado no tiene entropía y, por lo tanto, puede colocarse en una ubicación predecible en la memoria.</span><span class="sxs-lookup"><span data-stu-id="fd770-314">Note, however, that this rebasing has no entropy, and can therefore be placed at a predictable location in memory.</span></span> <span data-ttu-id="fd770-315">Para la ubicación aleatorizada y rebaseda de archivos binarios, esta mitigación debe emparejarse con Asignaciones de memoria [aleatorias (ASLR de](#randomize-memory-allocations-bottom-up-aslr)abajo hacia arriba).</span><span class="sxs-lookup"><span data-stu-id="fd770-315">For rebased and randomized location of binaries, this mitigation should be paired with [Randomize memory allocations (Bottom-up ASLR)](#randomize-memory-allocations-bottom-up-aslr).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-316">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-316">Compatibility considerations</span></span>

<span data-ttu-id="fd770-317">Este impacto de compatibilidad de ASLR suele limitarse a aplicaciones anteriores que se crearon con compiladores que hacían suposiciones sobre la dirección base de un archivo binario o que han quitado información de reubicación de base.</span><span class="sxs-lookup"><span data-stu-id="fd770-317">This compatibility impact of ASLR is typically constrained to older applications that were built using compilers that made assumptions about the base address of a binary file or have stripped out base relocation information.</span></span> <span data-ttu-id="fd770-318">Esto puede provocar errores impredecibles a medida que el flujo de ejecución intenta saltar a la ubicación esperada, en lugar de a la ubicación real en la memoria.</span><span class="sxs-lookup"><span data-stu-id="fd770-318">This can lead to unpredictable errors as the execution flow attempts to jump to the expected, rather than the actual, location in memory.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-319">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-319">Configuration options</span></span>

<span data-ttu-id="fd770-320">**No permitir imágenes desmontadas:** esta opción bloquea la carga de imágenes a las que se ha quitado información de reubicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-320">**Do not allow stripped images** - This option blocks the loading of images that have had relocation information stripped.</span></span> <span data-ttu-id="fd770-321">El formato de archivo pe de Windows contiene direcciones absolutas y el compilador también genera una [tabla de reubicación base que el cargador puede usar para buscar todas las referencias de memoria relativas y su desplazamiento, por lo que se pueden actualizar si el binario no se carga en su dirección base preferida.</span><span class="sxs-lookup"><span data-stu-id="fd770-321">The Windows PE file format contains absolute addresses, and the compiler also generates a [base relocation table that the loader can use to find all relative memory references and their offset, so they can be updated if the binary does not load at its preferred base address.</span></span> <span data-ttu-id="fd770-322">Algunas aplicaciones anteriores quitan esta información en las compilaciones de producción y, por lo tanto, no se pueden volver a basar estos archivos binarios.</span><span class="sxs-lookup"><span data-stu-id="fd770-322">Some older applications strip out this information in production builds, and therefore these binaries cannot be rebased.</span></span> <span data-ttu-id="fd770-323">Esta mitigación bloquea la carga de dichos archivos binarios (en lugar de permitir que se carguen en su dirección base preferida).</span><span class="sxs-lookup"><span data-stu-id="fd770-323">This mitigation blocks such binaries from being loaded (instead of allowing them to load at their preferred base address).</span></span>

> [!Note]
> <span data-ttu-id="fd770-324">**Forzar la aleatorización de imágenes (ASLR obligatoria)** no tiene modo de auditoría.</span><span class="sxs-lookup"><span data-stu-id="fd770-324">**Force randomization for images (Mandatory ASLR)** has no audit mode.</span></span>

## <a name="import-address-filtering-iaf"></a><span data-ttu-id="fd770-325">Importar filtrado de direcciones (IAF)</span><span class="sxs-lookup"><span data-stu-id="fd770-325">Import address filtering (IAF)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-326">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-326">Description</span></span>

<span data-ttu-id="fd770-327">La mitigación del filtrado de direcciones de importación (IAF) ayuda a mitigar el riesgo de que un adversario cambie el flujo de control de una aplicación modificando la tabla de direcciones de importación (IAT) para redirigir al código arbitrario que elija el atacante cuando se llama a esa función.</span><span class="sxs-lookup"><span data-stu-id="fd770-327">The import address filtering (IAF) mitigation helps mitigate the risk of an adversary changing the control flow of an application by modifying the import address table (IAT) to redirect to arbitrary code of the attacker's choice when that function is called.</span></span> <span data-ttu-id="fd770-328">Un atacante podría usar este enfoque para secuestrar el control o para interceptar, inspeccionar y bloquear potencialmente llamadas a API confidenciales.</span><span class="sxs-lookup"><span data-stu-id="fd770-328">An attacker could use this approach to hijack control, or to intercept, inspect, and potentially block calls to sensitive APIs.</span></span>

<span data-ttu-id="fd770-329">Las páginas de memoria de todas las API protegidas tendrán la [protección PAGE_GUARD](/windows/win32/memory/creating-guard-pages) aplicación a ellas.</span><span class="sxs-lookup"><span data-stu-id="fd770-329">The memory pages for all protected APIs will have the [PAGE_GUARD](/windows/win32/memory/creating-guard-pages) protection applied to them.</span></span> <span data-ttu-id="fd770-330">Cuando alguien intenta obtener acceso a esta memoria, generará un STATUS_GUARD_PAGE_VIOLATION.</span><span class="sxs-lookup"><span data-stu-id="fd770-330">When someone tries to access this memory, it will generate a STATUS_GUARD_PAGE_VIOLATION.</span></span> <span data-ttu-id="fd770-331">La mitigación controla esta excepción y, si la instrucción de acceso no pasa la validación, se finalizará el proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-331">The mitigation handles this exception, and if the accessing instruction doesn't pass validation, the process will be terminated.</span></span>

<span data-ttu-id="fd770-332">Esta mitigación protege las siguientes WINDOWS API:</span><span class="sxs-lookup"><span data-stu-id="fd770-332">This mitigation protects the following Windows APIs:</span></span>

- `GetProcAddress`
- `GetProcAddressForCaller`
- `LoadLibraryA`
- `LoadLibraryExA`
- `LoadLibraryW`
- `LoadLibraryExW`
- `LdrGetProcedureAddress`
- `LdrGetProcedureAddressEx`
- `LdrGetProcedureAddressForCaller`
- `LdrLoadDll`
- `VirtualProtect`
- `VirtualProtectEx`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `NtProtectVirtualMemory`
- `CreateProcessA`
- `CreateProcessW`
- `WinExec`
- `CreateProcessAsUserA`
- `CreateProcessAsUserW`
- `GetModuleHandleA`
- `GetModuleHandleW`
- `RtlDecodePointer`
- `DecodePointer`

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-333">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-333">Compatibility considerations</span></span>

<span data-ttu-id="fd770-334">Esta mitigación puede detectar aplicaciones legítimas que realizan la interceptación de API y provocar que algunas aplicaciones se bloquean.</span><span class="sxs-lookup"><span data-stu-id="fd770-334">Legitimate applications that perform API interception may be detected by this mitigation and cause some applications to crash.</span></span> <span data-ttu-id="fd770-335">Algunos ejemplos son el software de seguridad y las correcciones de compatibilidad de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="fd770-335">Examples include security software and application compatibility shims.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-336">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-336">Configuration options</span></span>

<span data-ttu-id="fd770-337">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-337">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-338">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-338">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="randomize-memory-allocations-bottom-up-aslr"></a><span data-ttu-id="fd770-339">Aleatorizar asignaciones de memoria (ASLR de abajo hacia arriba)</span><span class="sxs-lookup"><span data-stu-id="fd770-339">Randomize memory allocations (Bottom-up ASLR)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-340">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-340">Description</span></span>

<span data-ttu-id="fd770-341">Aleatorizar asignaciones de memoria (ASLR de abajo hacia arriba) agrega entropía a las reubicaciones, por lo que su ubicación es aleatoria y, por lo tanto, menos predecible.</span><span class="sxs-lookup"><span data-stu-id="fd770-341">Randomize memory allocations (Bottom-up ASLR) adds entropy to relocations, so their location is randomized and therefore less predictable.</span></span> <span data-ttu-id="fd770-342">Esta mitigación requiere que la ASLR obligatoria entre en vigor.</span><span class="sxs-lookup"><span data-stu-id="fd770-342">This mitigation requires Mandatory ASLR to take effect.</span></span>

<span data-ttu-id="fd770-343">El tamaño del espacio de direcciones de 32 bits coloca restricciones prácticas en la entropía que se puede agregar y, por lo tanto, las aplicaciones de 64 bits dificultan que un atacante adivine una ubicación en la memoria.</span><span class="sxs-lookup"><span data-stu-id="fd770-343">The size of the 32-bit address space places practical constraints on the entropy that can be added, and therefore 64-bit applications make it more difficult for an attacker to guess a location in memory.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-344">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-344">Compatibility considerations</span></span>

<span data-ttu-id="fd770-345">La mayoría de las aplicaciones que son compatibles con ASLR obligatorio (rebasado) también son compatibles con la otra entropía de ASLR de abajo hacia arriba.</span><span class="sxs-lookup"><span data-stu-id="fd770-345">Most applications that are compatible with Mandatory ASLR (rebasing) are also compatible with the other entropy of Bottom-up ASLR.</span></span> <span data-ttu-id="fd770-346">Algunas aplicaciones pueden tener problemas de truncamiento de punteros si están guardando punteros locales en variables de 32 bits (esperando una dirección base inferior a 4 GB) y, por lo tanto, serán incompatibles con la opción de entropía alta (que se puede deshabilitar).</span><span class="sxs-lookup"><span data-stu-id="fd770-346">Some applications may have pointer-truncation issues if they are saving local pointers in 32-bit variables (expecting a base address below 4 GB), and thus will be incompatible with the high entropy option (which can be disabled).</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-347">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-347">Configuration options</span></span>

<span data-ttu-id="fd770-348">No use una **entropía** alta: esta opción deshabilita el uso de ASLR de alta entropía, que agrega 24 bits de entropía (1 TB de varianza) en la asignación de abajo hacia arriba para aplicaciones de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="fd770-348">**Don't use high entropy** - this option disables the use of high-entropy ASLR, which adds 24 bits of entropy (1 TB of variance) into the bottom-up allocation for 64-bit applications.</span></span>

> [!Note]
> <span data-ttu-id="fd770-349">**Las asignaciones de memoria aleatorias (ASLR de** abajo hacia arriba) no tienen modo de auditoría.</span><span class="sxs-lookup"><span data-stu-id="fd770-349">**Randomize memory allocations (Bottom-up ASLR)** has no audit mode.</span></span>

## <a name="simulate-execution-simexec"></a><span data-ttu-id="fd770-350">Simulación de ejecución (SimExec)</span><span class="sxs-lookup"><span data-stu-id="fd770-350">Simulate execution (SimExec)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-351">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-351">Description</span></span>

<span data-ttu-id="fd770-352">Simular ejecución (SimExec) es una mitigación solo para aplicaciones de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="fd770-352">Simulate execution (SimExec) is a mitigation for 32-bit applications only.</span></span> <span data-ttu-id="fd770-353">Esto ayuda a validar que las llamadas a API confidenciales volverán a las funciones legítimas del autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="fd770-353">This helps validate that calls to sensitive APIs will return to legitimate caller functions.</span></span> <span data-ttu-id="fd770-354">Para ello, intercepta llamadas en API confidenciales y, a continuación, simula la ejecución de dichas API recorriendo las instrucciones del lenguaje del ensamblado codificado en busca de la instrucción RET, que debe volver al autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="fd770-354">It does this by intercepting calls into sensitive APIs, and then simulating the execution of those APIs by walking through the encoded assembly language instructions looking for the RET instruction, which should return to the caller.</span></span> <span data-ttu-id="fd770-355">A continuación, inspecciona esa función y retrocede en la memoria para buscar la instrucción CALL anterior para determinar si la función y la instrucción CALL coinciden y que el RET no se ha interceptado.</span><span class="sxs-lookup"><span data-stu-id="fd770-355">It then inspects that function and walks backwards in memory to find the preceding CALL instruction to determine whether the function and CALL instruction match, and that the RET hasn't been intercepted.</span></span>

<span data-ttu-id="fd770-356">Las API interceptadas por esta mitigación son:</span><span class="sxs-lookup"><span data-stu-id="fd770-356">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

<span data-ttu-id="fd770-357">Si se detecta un gadget rop, el proceso finaliza.</span><span class="sxs-lookup"><span data-stu-id="fd770-357">If a ROP gadget is detected, the process is terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-358">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-358">Compatibility considerations</span></span>

<span data-ttu-id="fd770-359">Las aplicaciones que realizan la interceptación de la API, en particular el software de seguridad, pueden causar problemas de compatibilidad con esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-359">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="fd770-360">Esta mitigación es incompatible con la mitigación arbitraria de Protección de código.</span><span class="sxs-lookup"><span data-stu-id="fd770-360">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-361">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-361">Configuration options</span></span>

<span data-ttu-id="fd770-362">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-362">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-363">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-363">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-api-invocation-callercheck"></a><span data-ttu-id="fd770-364">Validar invocación de API (CallerCheck)</span><span class="sxs-lookup"><span data-stu-id="fd770-364">Validate API invocation (CallerCheck)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-365">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-365">Description</span></span>

<span data-ttu-id="fd770-366">Validar la invocación de API (CallerCheck) es una mitigación para técnicas de programación orientada a retorno (ROP) que validan que se llamó a api confidenciales desde un llamador válido.</span><span class="sxs-lookup"><span data-stu-id="fd770-366">Validate API invocation (CallerCheck) is a mitigation for return-oriented programming (ROP) techniques that validates that sensitive APIs were called from a valid caller.</span></span> <span data-ttu-id="fd770-367">Esta mitigación inspecciona la dirección de devolución pasada y, a continuación, desmonta heurísticamente hacia atrás para buscar una llamada encima de la dirección de devolución para determinar si el destino de llamada coincide con el parámetro pasado a la función.</span><span class="sxs-lookup"><span data-stu-id="fd770-367">This mitigation inspects the passed return address, and then heuristically disassembles backwards to find a call above the return address to determine if the call target matches the parameter passed into the function.</span></span>

<span data-ttu-id="fd770-368">Las API interceptadas por esta mitigación son:</span><span class="sxs-lookup"><span data-stu-id="fd770-368">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

<span data-ttu-id="fd770-369">Si se detecta un gadget rop, el proceso finaliza.</span><span class="sxs-lookup"><span data-stu-id="fd770-369">If a ROP gadget is detected, the process is terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-370">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-370">Compatibility considerations</span></span>

<span data-ttu-id="fd770-371">Las aplicaciones que realizan la interceptación de la API, en particular el software de seguridad, pueden causar problemas de compatibilidad con esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-371">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="fd770-372">Esta mitigación es incompatible con la mitigación arbitraria de Protección de código.</span><span class="sxs-lookup"><span data-stu-id="fd770-372">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-373">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-373">Configuration options</span></span>

<span data-ttu-id="fd770-374">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-374">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-375">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-375">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-exception-chains-sehop"></a><span data-ttu-id="fd770-376">Validar cadenas de excepciones (SEHOP)</span><span class="sxs-lookup"><span data-stu-id="fd770-376">Validate exception chains (SEHOP)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-377">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-377">Description</span></span>

<span data-ttu-id="fd770-378">Validar cadenas de excepciones (SEHOP) es una mitigación contra la técnica de sobrescritura del controlador de *excepciones estructurado (SEH).*</span><span class="sxs-lookup"><span data-stu-id="fd770-378">Validate exception chains (SEHOP) is a mitigation against the *Structured Exception Handler (SEH) overwrite* exploitation technique.</span></span> <span data-ttu-id="fd770-379">[El control de excepciones](/windows/win32/debug/structured-exception-handling) estructurado es el proceso mediante el cual una aplicación puede solicitar controlar una excepción determinada.</span><span class="sxs-lookup"><span data-stu-id="fd770-379">[Structured exception handling](/windows/win32/debug/structured-exception-handling) is the process by which an application can ask to handle a particular exception.</span></span> <span data-ttu-id="fd770-380">Los controladores de excepciones se encadenan entre sí, de modo que si un controlador de excepciones decide no controlar una excepción determinada, se puede pasar al siguiente controlador de excepciones de la cadena hasta que uno decida controlarla.</span><span class="sxs-lookup"><span data-stu-id="fd770-380">Exception handlers are chained together, so that if one exception handler chooses not to handle a particular exception, it can be passed on to the next exception handler in the chain until one decides to handle it.</span></span> <span data-ttu-id="fd770-381">Dado que la lista de controladores es dinámica, se almacena en la pila.</span><span class="sxs-lookup"><span data-stu-id="fd770-381">Because the list of handler is dynamic, it is stored on the stack.</span></span> <span data-ttu-id="fd770-382">Un atacante puede usar una vulnerabilidad de desbordamiento de pila para sobrescribir el controlador de excepciones con un puntero al código que elija el atacante.</span><span class="sxs-lookup"><span data-stu-id="fd770-382">An attacker can use a stack overflow vulnerability to then overwrite the exception handler with a pointer to the code of the attacker's choice.</span></span>

<span data-ttu-id="fd770-383">Esta mitigación se basa en el diseño de SEH, donde cada entrada SEH contiene un puntero al controlador de excepciones, así como un puntero al siguiente controlador de la cadena de excepciones.</span><span class="sxs-lookup"><span data-stu-id="fd770-383">This mitigation relies on the design of SEH, where each SEH entry contains both a pointer to the exception handler, as well as a pointer to the next handler in the exception chain.</span></span> <span data-ttu-id="fd770-384">El distribuidor de excepciones llama a esta mitigación, que valida la cadena SEH cuando se invoca una excepción.</span><span class="sxs-lookup"><span data-stu-id="fd770-384">This mitigation is called by the exception dispatcher, which validates the SEH chain when an exception is invoked.</span></span> <span data-ttu-id="fd770-385">Comprueba que:</span><span class="sxs-lookup"><span data-stu-id="fd770-385">It verifies that:</span></span>

- <span data-ttu-id="fd770-386">Todos los registros de cadena de excepciones están dentro de los límites de la pila</span><span class="sxs-lookup"><span data-stu-id="fd770-386">All exception chain records are within the stack boundaries</span></span>
- <span data-ttu-id="fd770-387">Todos los registros de excepciones están alineados</span><span class="sxs-lookup"><span data-stu-id="fd770-387">All exception records are aligned</span></span>
- <span data-ttu-id="fd770-388">No hay punteros de controlador de excepciones que apunten a la pila</span><span class="sxs-lookup"><span data-stu-id="fd770-388">No exception handler pointers are pointing to the stack</span></span>
- <span data-ttu-id="fd770-389">No hay punteros hacia atrás</span><span class="sxs-lookup"><span data-stu-id="fd770-389">There are no backward pointers</span></span>
- <span data-ttu-id="fd770-390">La cadena de excepciones termina en un controlador de excepciones final conocido</span><span class="sxs-lookup"><span data-stu-id="fd770-390">The exception chain ends at a known final exception handler</span></span>

<span data-ttu-id="fd770-391">Si se produce un error en estas validaciones, se anula el control de excepciones y no se controlará la excepción.</span><span class="sxs-lookup"><span data-stu-id="fd770-391">If these validations fail, then exception handling is aborted, and the exception will not be handled.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-392">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-392">Compatibility considerations</span></span>

<span data-ttu-id="fd770-393">Los problemas de compatibilidad con SEHOP son relativamente raros.</span><span class="sxs-lookup"><span data-stu-id="fd770-393">Compatibility issues with SEHOP are relatively rare.</span></span> <span data-ttu-id="fd770-394">Es infrecuente que una aplicación se base en dañar la cadena de excepciones.</span><span class="sxs-lookup"><span data-stu-id="fd770-394">It's uncommon for an application to take a dependency on corrupting the exception chain.</span></span> <span data-ttu-id="fd770-395">Sin embargo, algunas aplicaciones se verán afectadas por los sutiles cambios en el tiempo, que pueden manifestarse como una condición de carrera que revela un error de varios subprocesos latente en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-395">However, some applications are impacted by the subtle changes in timing, which may manifest as a race condition that reveals a latent multi-threading bug in the application.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-396">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-396">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="fd770-397">**Validar cadenas de excepciones (SEHOP)** no tiene modo de auditoría.</span><span class="sxs-lookup"><span data-stu-id="fd770-397">**Validate exception chains (SEHOP)** has no audit mode.</span></span>

## <a name="validate-handle-usage"></a><span data-ttu-id="fd770-398">Validar el uso de identificadores</span><span class="sxs-lookup"><span data-stu-id="fd770-398">Validate handle usage</span></span>

### <a name="description"></a><span data-ttu-id="fd770-399">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-399">Description</span></span>

<span data-ttu-id="fd770-400">*Validar el uso de identificador* es una mitigación que ayuda a proteger contra un atacante mediante un identificador existente para obtener acceso a un objeto protegido.</span><span class="sxs-lookup"><span data-stu-id="fd770-400">*Validate handle usage* is a mitigation that helps protect against an attacker using an existing handle to access a protected object.</span></span> <span data-ttu-id="fd770-401">Un [identificador](/windows/win32/sysinfo/handles-and-objects) es una referencia a un objeto protegido.</span><span class="sxs-lookup"><span data-stu-id="fd770-401">A [handle](/windows/win32/sysinfo/handles-and-objects) is a reference to a protected object.</span></span> <span data-ttu-id="fd770-402">Si el código de aplicación hace referencia a un identificador no válido, esto podría indicar que un adversario está intentando usar un controlador que ha registrado anteriormente (pero que el recuento de referencias de aplicación no tendría en cuenta).</span><span class="sxs-lookup"><span data-stu-id="fd770-402">If application code is referencing an invalid handle, that could indicate that an adversary is attempting to use a handle it has previously recorded (but which application reference counting wouldn't be aware of).</span></span> <span data-ttu-id="fd770-403">Si la aplicación intenta usar un objeto no válido, en lugar de devolver simplemente null, la aplicación producirá una excepción (STATUS_INVALID_HANDLE).</span><span class="sxs-lookup"><span data-stu-id="fd770-403">If the application attempts to use an invalid object, instead of simply returning null, the application will raise an exception (STATUS_INVALID_HANDLE).</span></span>

<span data-ttu-id="fd770-404">Esta mitigación se aplica automáticamente a Windows store.</span><span class="sxs-lookup"><span data-stu-id="fd770-404">This mitigation is automatically applied to Windows Store applications.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-405">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-405">Compatibility considerations</span></span>

<span data-ttu-id="fd770-406">Las aplicaciones que no estaban haciendo un seguimiento preciso de las referencias de identificador y que no ajustaban estas operaciones en controladores de excepciones, se verán afectadas potencialmente por esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-406">Applications that were not accurately tracking handle references, and which were not wrapping these operations in exception handlers, will potentially be impacted by this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-407">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-407">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="fd770-408">**Validar el uso del controlador** no tiene modo de auditoría.</span><span class="sxs-lookup"><span data-stu-id="fd770-408">**Validate handle usage** has no audit mode.</span></span>

## <a name="validate-heap-integrity"></a><span data-ttu-id="fd770-409">Validar la integridad del montón</span><span class="sxs-lookup"><span data-stu-id="fd770-409">Validate heap integrity</span></span>

### <a name="description"></a><span data-ttu-id="fd770-410">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-410">Description</span></span>

<span data-ttu-id="fd770-411">La *mitigación* de integridad de montón de validación aumenta el nivel de protección de las mitigaciones de montón en Windows, haciendo que la aplicación finalice si se detecta un daño en el montón.</span><span class="sxs-lookup"><span data-stu-id="fd770-411">The *validate heap integrity* mitigation increases the protection level of heap mitigations in Windows, by causing the application to terminate if a heap corruption is detected.</span></span> <span data-ttu-id="fd770-412">Las mitigaciones incluyen:</span><span class="sxs-lookup"><span data-stu-id="fd770-412">The mitigations include:</span></span>

- <span data-ttu-id="fd770-413">Impedir que se liberara un controlador HEAP</span><span class="sxs-lookup"><span data-stu-id="fd770-413">Preventing a HEAP handle from being freed</span></span>
- <span data-ttu-id="fd770-414">Realizar otra validación en encabezados de bloque extendidos para asignaciones de montón</span><span class="sxs-lookup"><span data-stu-id="fd770-414">Performing another validation on extended block headers for heap allocations</span></span>
- <span data-ttu-id="fd770-415">Comprobar que las asignaciones de montón no están ya marcadas como en uso</span><span class="sxs-lookup"><span data-stu-id="fd770-415">Verifying that heap allocations are not already flagged as in-use</span></span>
- <span data-ttu-id="fd770-416">Agregar páginas de protección a asignaciones grandes, segmentos de montón y subsegmentos por encima de un tamaño mínimo</span><span class="sxs-lookup"><span data-stu-id="fd770-416">Adding guard pages to large allocations, heap segments, and subsegments above a minimum size</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-417">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-417">Compatibility considerations</span></span>

<span data-ttu-id="fd770-418">Esta mitigación ya se aplica de forma predeterminada para aplicaciones de 64 bits y para aplicaciones de 32 bits destinadas Windows Vista o posterior.</span><span class="sxs-lookup"><span data-stu-id="fd770-418">This mitigation is already applied by default for 64-bit applications and for 32-bit applications targeting Windows Vista or later.</span></span> <span data-ttu-id="fd770-419">Las aplicaciones heredadas de Windows XP o versiones anteriores son más arriesgadas, aunque los problemas de compatibilidad son poco frecuentes.</span><span class="sxs-lookup"><span data-stu-id="fd770-419">Legacy applications from Windows XP or earlier are most at-risk, though compatibility issues are rare.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-420">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-420">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="fd770-421">**Validar que la integridad del montón** no tiene modo de auditoría.</span><span class="sxs-lookup"><span data-stu-id="fd770-421">**Validate heap integrity** has no audit mode.</span></span>

## <a name="validate-image-dependency-integrity"></a><span data-ttu-id="fd770-422">Validar la integridad de dependencia de imagen</span><span class="sxs-lookup"><span data-stu-id="fd770-422">Validate image dependency integrity</span></span>

### <a name="description"></a><span data-ttu-id="fd770-423">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-423">Description</span></span>

<span data-ttu-id="fd770-424">La *mitigación de dependencias* de imagen validada ayuda a proteger contra ataques que intentan sustituir código por dll que están vinculados estáticamente por archivos binarios Windows archivos binarios.</span><span class="sxs-lookup"><span data-stu-id="fd770-424">The *validate image dependency* mitigation helps protect against attacks that attempt to substitute code for dlls that are statically linked by Windows binaries.</span></span> <span data-ttu-id="fd770-425">La técnica de plantación de DLL abusa del mecanismo de búsqueda del cargador para insertar código malintencionado, que se puede usar para que el código malintencionado se ejecute en un contexto elevado.</span><span class="sxs-lookup"><span data-stu-id="fd770-425">The technique of DLL planting abuses the loader's search mechanism to inject malicious code, which can be used to get malicious code running in an elevated context.</span></span> <span data-ttu-id="fd770-426">Cuando el cargador carga un binario firmado por Windows y, a continuación, carga los archivos DLL de los que depende el binario, estos archivos binarios se comprobarán para asegurarse de que también están firmados digitalmente como un binario Windows.</span><span class="sxs-lookup"><span data-stu-id="fd770-426">When the loader is loading a Windows signed binary, and then loads up any dlls that the binary depends on, these binaries will be verified to ensure that they are also digitally signed as a Windows binary.</span></span> <span data-ttu-id="fd770-427">Si no se cumple la comprobación de firma, la dll no se cargará y se producirá una excepción, devolviendo un estado de STATUS_INVALID_IMAGE_HASH.</span><span class="sxs-lookup"><span data-stu-id="fd770-427">If they fail the signature check, the dll will not be loaded, and will throw an exception, returning a status of STATUS_INVALID_IMAGE_HASH.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-428">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-428">Compatibility considerations</span></span>

<span data-ttu-id="fd770-429">Los problemas de compatibilidad son poco frecuentes.</span><span class="sxs-lookup"><span data-stu-id="fd770-429">Compatibility issues are uncommon.</span></span> <span data-ttu-id="fd770-430">Las aplicaciones que dependen de reemplazar Windows archivos binarios por versiones privadas locales se verán afectadas y también existe un pequeño riesgo de revelar errores de sincronización sutiles en aplicaciones multiproceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-430">Applications that depend on replacing Windows binaries with local private versions will be impacted, and there is also a small risk of revealing subtle timing bugs in multi-threaded applications.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-431">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-431">Configuration options</span></span>

<span data-ttu-id="fd770-432">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-432">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-433">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-433">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-stack-integrity-stackpivot"></a><span data-ttu-id="fd770-434">Validar la integridad de la pila (StackPivot)</span><span class="sxs-lookup"><span data-stu-id="fd770-434">Validate stack integrity (StackPivot)</span></span>

### <a name="description"></a><span data-ttu-id="fd770-435">Descripción</span><span class="sxs-lookup"><span data-stu-id="fd770-435">Description</span></span>

<span data-ttu-id="fd770-436">La mitigación validar la integridad de la pila *(StackPivot)* ayuda a proteger contra el ataque de pivote de pila, un ataque ROP donde un atacante crea una pila falsa en la memoria de montón y, a continuación, hace que la aplicación vuelva a la pila falsa que controla el flujo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="fd770-436">The *validate stack integrity (StackPivot)* mitigation helps protect against the Stack Pivot attack, a ROP attack where an attacker creates a fake stack in heap memory, and then tricks the application into returning into the fake stack that controls the flow of execution.</span></span>

<span data-ttu-id="fd770-437">Esta mitigación intercepta muchas Windows API e inspecciona el valor del puntero de la pila.</span><span class="sxs-lookup"><span data-stu-id="fd770-437">This mitigation intercepts many Windows APIs, and inspects the value of the stack pointer.</span></span> <span data-ttu-id="fd770-438">Si la dirección del puntero de pila no se encuentra entre la parte inferior y la parte superior de la pila, se registra un evento y, si no está en modo auditoría, se finalizará el proceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-438">If the address of the stack pointer does not fall between the bottom and the top of the stack, then an event is recorded and, if not in audit mode, the process will be terminated.</span></span>

<span data-ttu-id="fd770-439">Las API interceptadas por esta mitigación son:</span><span class="sxs-lookup"><span data-stu-id="fd770-439">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

### <a name="compatibility-considerations"></a><span data-ttu-id="fd770-440">Consideraciones de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="fd770-440">Compatibility considerations</span></span>

<span data-ttu-id="fd770-441">Las aplicaciones que usan pilas falsas se verán afectadas y también existe un pequeño riesgo de revelar errores de sincronización sutiles en aplicaciones multiproceso.</span><span class="sxs-lookup"><span data-stu-id="fd770-441">Applications that are using fake stacks will be impacted, and there is also a small risk of revealing subtle timing bugs in multi-threaded applications.</span></span>
<span data-ttu-id="fd770-442">Las aplicaciones que realizan la interceptación de la API, en particular el software de seguridad, pueden causar problemas de compatibilidad con esta mitigación.</span><span class="sxs-lookup"><span data-stu-id="fd770-442">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="fd770-443">Esta mitigación es incompatible con la mitigación arbitraria de Protección de código.</span><span class="sxs-lookup"><span data-stu-id="fd770-443">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="fd770-444">Opciones de configuración</span><span class="sxs-lookup"><span data-stu-id="fd770-444">Configuration options</span></span>

<span data-ttu-id="fd770-445">**Solo auditoría:** puede habilitar esta mitigación en modo auditoría para medir el posible impacto de compatibilidad en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="fd770-445">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="fd770-446">A continuación, los eventos de auditoría se pueden ver en el visor de eventos o mediante búsqueda avanzada en [Microsoft Defender para endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="fd770-446">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>
