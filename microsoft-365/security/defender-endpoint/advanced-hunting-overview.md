---
title: Información general sobre la búsqueda avanzada en Microsoft Defender para endpoint
description: Usar las capacidades de búsqueda de amenazas en Microsoft Defender para endpoint para crear consultas que encuentren amenazas y debilidades en la red
keywords: búsqueda avanzada, búsqueda de amenazas, búsqueda de amenazas cibernéticas, mdatp, atp de microsoft defender, microsoft defender para punto de conexión, wdatp, búsqueda, consulta, telemetría, detecciones personalizadas, esquema, kusto, zona horaria, UTC
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: m365-security
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
ms.author: maccruz
author: schmurky
localization_priority: Normal
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.technology: mde
ms.openlocfilehash: 9f1934de8f710a21bc362e735bb6f1eab7a2d287
ms.sourcegitcommit: 4fb1226d5875bf5b9b29252596855a6562cea9ae
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/08/2021
ms.locfileid: "52845443"
---
# <a name="proactively-hunt-for-threats-with-advanced-hunting"></a><span data-ttu-id="a61cf-104">Búsqueda proactiva de amenazas con búsqueda avanzada</span><span class="sxs-lookup"><span data-stu-id="a61cf-104">Proactively hunt for threats with advanced hunting</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

<span data-ttu-id="a61cf-105">**Se aplica a:**</span><span class="sxs-lookup"><span data-stu-id="a61cf-105">**Applies to:**</span></span>
- [<span data-ttu-id="a61cf-106">Microsoft Defender para punto de conexión</span><span class="sxs-lookup"><span data-stu-id="a61cf-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/?linkid=2154037)

><span data-ttu-id="a61cf-107">¿Desea experimentar Defender for Endpoint?</span><span class="sxs-lookup"><span data-stu-id="a61cf-107">Want to experience Defender for Endpoint?</span></span> [<span data-ttu-id="a61cf-108">Regístrate para obtener una versión de prueba gratuita.</span><span class="sxs-lookup"><span data-stu-id="a61cf-108">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-advancedhunting-abovefoldlink)

<span data-ttu-id="a61cf-109">La búsqueda avanzada es una herramienta de búsqueda de amenazas basada en consulta que le permite explorar hasta 30 días de datos sin procesar.</span><span class="sxs-lookup"><span data-stu-id="a61cf-109">Advanced hunting is a query-based threat-hunting tool that lets you explore up to 30 days of raw data.</span></span> <span data-ttu-id="a61cf-110">Puede inspeccionar de forma proactiva los eventos de la red para localizar indicadores y entidades de amenazas.</span><span class="sxs-lookup"><span data-stu-id="a61cf-110">You can proactively inspect events in your network to locate threat indicators and entities.</span></span> <span data-ttu-id="a61cf-111">El acceso flexible a los datos permite la búsqueda sin restricciones para amenazas conocidas y potenciales.</span><span class="sxs-lookup"><span data-stu-id="a61cf-111">The flexible access to data enables unconstrained hunting for both known and potential threats.</span></span>

<span data-ttu-id="a61cf-112">Vea este vídeo para obtener una introducción rápida a la búsqueda avanzada y un breve tutorial que le ayudará a empezar rápidamente.</span><span class="sxs-lookup"><span data-stu-id="a61cf-112">Watch this video for a quick overview of advanced hunting and a short tutorial that will get you started fast.</span></span>
<br />
<br />

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4bGqo]

<span data-ttu-id="a61cf-113">Puede usar las mismas consultas de búsqueda de amenazas para crear reglas de detección personalizadas.</span><span class="sxs-lookup"><span data-stu-id="a61cf-113">You can use the same threat-hunting queries to build custom detection rules.</span></span> <span data-ttu-id="a61cf-114">Estas reglas se ejecutan automáticamente para buscar y responder a una actividad de infracción sospechosa, máquinas mal configuradas y otras conclusiones.</span><span class="sxs-lookup"><span data-stu-id="a61cf-114">These rules run automatically to check for and then respond to suspected breach activity, misconfigured machines, and other findings.</span></span>

>[!TIP]
><span data-ttu-id="a61cf-115">Usa la búsqueda avanzada en [Microsoft 365 Defender](/microsoft-365/security/defender/advanced-hunting-overview) para buscar amenazas con datos de Defender para endpoint, Microsoft Defender para Office 365, Microsoft Cloud App Security y Microsoft Defender para Identity.</span><span class="sxs-lookup"><span data-stu-id="a61cf-115">Use [advanced hunting in Microsoft 365 Defender](/microsoft-365/security/defender/advanced-hunting-overview) to hunt for threats using data from Defender for Endpoint, Microsoft Defender for Office 365, Microsoft Cloud App Security, and Microsoft Defender for Identity.</span></span> <span data-ttu-id="a61cf-116">[Active Microsoft 365 Defender](/microsoft-365/security/defender/m365d-enable).</span><span class="sxs-lookup"><span data-stu-id="a61cf-116">[Turn on Microsoft 365 Defender](/microsoft-365/security/defender/m365d-enable).</span></span><br><br>
<span data-ttu-id="a61cf-117">Obtenga más información sobre cómo mover los flujos de trabajo avanzados de búsqueda de Microsoft Defender para endpoint a Microsoft 365 Defender en Migrar consultas avanzadas de búsqueda de [Microsoft Defender para endpoint.](/microsoft-365/security/defender/advanced-hunting-migrate-from-mde)</span><span class="sxs-lookup"><span data-stu-id="a61cf-117">Learn more about how to move your advanced hunting workflows from Microsoft Defender for Endpoint to Microsoft 365 Defender in [Migrate advanced hunting queries from Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-migrate-from-mde).</span></span>

## <a name="get-started-with-advanced-hunting"></a><span data-ttu-id="a61cf-118">Introducción a la búsqueda avanzada</span><span class="sxs-lookup"><span data-stu-id="a61cf-118">Get started with advanced hunting</span></span>

<span data-ttu-id="a61cf-119">Siga estos pasos para aumentar los conocimientos avanzados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a61cf-119">Go through the following steps to ramp up your advanced hunting knowledge.</span></span>

<span data-ttu-id="a61cf-120">Le recomendamos que siga los pasos siguientes para empezar a trabajar rápidamente con la búsqueda avanzada.</span><span class="sxs-lookup"><span data-stu-id="a61cf-120">We recommend going through several steps to quickly get up and running with advanced hunting.</span></span>

| <span data-ttu-id="a61cf-121">Objetivo de aprendizaje</span><span class="sxs-lookup"><span data-stu-id="a61cf-121">Learning goal</span></span> | <span data-ttu-id="a61cf-122">Descripción</span><span class="sxs-lookup"><span data-stu-id="a61cf-122">Description</span></span> | <span data-ttu-id="a61cf-123">Recurso</span><span class="sxs-lookup"><span data-stu-id="a61cf-123">Resource</span></span> |
|--|--|--|
| <span data-ttu-id="a61cf-124">**Aprender el idioma**</span><span class="sxs-lookup"><span data-stu-id="a61cf-124">**Learn the language**</span></span> | <span data-ttu-id="a61cf-125">La búsqueda avanzada se basa en [el lenguaje de consulta Kusto,](/azure/kusto/query/)que admite la misma sintaxis y operadores.</span><span class="sxs-lookup"><span data-stu-id="a61cf-125">Advanced hunting is based on [Kusto query language](/azure/kusto/query/), supporting the same syntax and operators.</span></span> <span data-ttu-id="a61cf-126">Empiece a aprender el lenguaje de consulta mediante la ejecución de la primera consulta.</span><span class="sxs-lookup"><span data-stu-id="a61cf-126">Start learning the query language by running your first query.</span></span> | [<span data-ttu-id="a61cf-127">Introducción al lenguaje de consulta</span><span class="sxs-lookup"><span data-stu-id="a61cf-127">Query language overview</span></span>](advanced-hunting-query-language.md) |
| <span data-ttu-id="a61cf-128">**Obtenga información sobre cómo usar los resultados de la consulta**</span><span class="sxs-lookup"><span data-stu-id="a61cf-128">**Learn how to use the query results**</span></span> | <span data-ttu-id="a61cf-129">Obtenga información sobre gráficos y diversas formas de ver o exportar los resultados.</span><span class="sxs-lookup"><span data-stu-id="a61cf-129">Learn about charts and various ways you can view or export your results.</span></span> <span data-ttu-id="a61cf-130">Explore cómo puede ajustar rápidamente las consultas y profundizar para obtener información más enriquecente.</span><span class="sxs-lookup"><span data-stu-id="a61cf-130">Explore how you can quickly tweak queries and drill down to get richer information.</span></span> | [<span data-ttu-id="a61cf-131">Trabajar con resultados de consulta</span><span class="sxs-lookup"><span data-stu-id="a61cf-131">Work with query results</span></span>](advanced-hunting-query-results.md) |
| <span data-ttu-id="a61cf-132">**Entender el esquema**</span><span class="sxs-lookup"><span data-stu-id="a61cf-132">**Understand the schema**</span></span> | <span data-ttu-id="a61cf-133">Obtenga una visión adecuada y de alto nivel de las tablas en el esquema y sus columnas.</span><span class="sxs-lookup"><span data-stu-id="a61cf-133">Get a good, high-level understanding of the tables in the schema and their columns.</span></span> <span data-ttu-id="a61cf-134">Obtenga información sobre dónde buscar datos al crear las consultas.</span><span class="sxs-lookup"><span data-stu-id="a61cf-134">Learn where to look for data when constructing your queries.</span></span> | [<span data-ttu-id="a61cf-135">Referencia del esquema</span><span class="sxs-lookup"><span data-stu-id="a61cf-135">Schema reference</span></span>](advanced-hunting-schema-reference.md) |
| <span data-ttu-id="a61cf-136">**Usar consultas predefinidas**</span><span class="sxs-lookup"><span data-stu-id="a61cf-136">**Use predefined queries**</span></span> | <span data-ttu-id="a61cf-137">Explore colecciones de consultas predefinidas que cubren diferentes escenarios de búsqueda de amenazas.</span><span class="sxs-lookup"><span data-stu-id="a61cf-137">Explore collections of predefined queries covering different threat hunting scenarios.</span></span> | [<span data-ttu-id="a61cf-138">Consultas compartidas</span><span class="sxs-lookup"><span data-stu-id="a61cf-138">Shared queries</span></span>](advanced-hunting-shared-queries.md) |
| <span data-ttu-id="a61cf-139">**Optimizar consultas y controlar errores**</span><span class="sxs-lookup"><span data-stu-id="a61cf-139">**Optimize queries and handle errors**</span></span> | <span data-ttu-id="a61cf-140">Comprenda cómo crear consultas eficientes y libres de errores.</span><span class="sxs-lookup"><span data-stu-id="a61cf-140">Understand how to create efficient and error-free queries.</span></span> | <span data-ttu-id="a61cf-141">- [Procedimientos recomendados de consulta](advanced-hunting-best-practices.md)</span><span class="sxs-lookup"><span data-stu-id="a61cf-141">- [Query best practices](advanced-hunting-best-practices.md)</span></span><br><span data-ttu-id="a61cf-142">- [Controlar errores](advanced-hunting-errors.md)</span><span class="sxs-lookup"><span data-stu-id="a61cf-142">- [Handle errors](advanced-hunting-errors.md)</span></span> |
| <span data-ttu-id="a61cf-143">**Obtener la cobertura más completa**</span><span class="sxs-lookup"><span data-stu-id="a61cf-143">**Get the most complete coverage**</span></span> | <span data-ttu-id="a61cf-144">Use la configuración de auditoría para proporcionar una mejor cobertura de datos para su organización.</span><span class="sxs-lookup"><span data-stu-id="a61cf-144">Use audit settings to provide better data coverage for your organization.</span></span> | <span data-ttu-id="a61cf-145">- [Ampliar la cobertura de búsqueda avanzada](advanced-hunting-extend-data.md)</span><span class="sxs-lookup"><span data-stu-id="a61cf-145">- [Extend advanced hunting coverage](advanced-hunting-extend-data.md)</span></span> |
| <span data-ttu-id="a61cf-146">**Ejecutar una investigación rápida**</span><span class="sxs-lookup"><span data-stu-id="a61cf-146">**Run a quick investigation**</span></span> | <span data-ttu-id="a61cf-147">Ejecute rápidamente una consulta de búsqueda avanzada para investigar la actividad sospechosa.</span><span class="sxs-lookup"><span data-stu-id="a61cf-147">Quickly run an advanced hunting query to investigate suspicious activity.</span></span> | <span data-ttu-id="a61cf-148">- [Búsqueda rápida de información de entidad o evento con *go hunt*](advanced-hunting-go-hunt.md)</span><span class="sxs-lookup"><span data-stu-id="a61cf-148">- [Quickly hunt for entity or event information with *go hunt*](advanced-hunting-go-hunt.md)</span></span> |
| <span data-ttu-id="a61cf-149">**Contener amenazas y solucionar compromisos**</span><span class="sxs-lookup"><span data-stu-id="a61cf-149">**Contain threats and address compromises**</span></span> | <span data-ttu-id="a61cf-150">Responder a los ataques mediante la quarantining de archivos, la restricción de la ejecución de aplicaciones y otras acciones</span><span class="sxs-lookup"><span data-stu-id="a61cf-150">Respond to attacks by quarantining files, restricting app execution, and other actions</span></span> | <span data-ttu-id="a61cf-151">- [Realizar acciones en los resultados avanzados de la consulta de búsqueda](advanced-hunting-take-action.md)</span><span class="sxs-lookup"><span data-stu-id="a61cf-151">- [Take action on advanced hunting query results](advanced-hunting-take-action.md)</span></span> |
| <span data-ttu-id="a61cf-152">**Crear reglas de detección personalizadas**</span><span class="sxs-lookup"><span data-stu-id="a61cf-152">**Create custom detection rules**</span></span> | <span data-ttu-id="a61cf-153">Comprenda cómo puede usar consultas de búsqueda avanzadas para desencadenar alertas y realizar acciones de respuesta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a61cf-153">Understand how you can use advanced hunting queries to trigger alerts and take response actions automatically.</span></span> | <span data-ttu-id="a61cf-154">- [Introducción a las detecciones personalizadas](overview-custom-detections.md)</span><span class="sxs-lookup"><span data-stu-id="a61cf-154">- [Custom detections overview](overview-custom-detections.md)</span></span><br><span data-ttu-id="a61cf-155">- [Reglas de detección personalizadas](custom-detection-rules.md)</span><span class="sxs-lookup"><span data-stu-id="a61cf-155">- [Custom detection rules](custom-detection-rules.md)</span></span> |

## <a name="data-freshness-and-update-frequency"></a><span data-ttu-id="a61cf-156">Actualización de datos y frecuencia de actualización</span><span class="sxs-lookup"><span data-stu-id="a61cf-156">Data freshness and update frequency</span></span>

<span data-ttu-id="a61cf-157">Los datos de búsqueda avanzados se pueden clasificar en dos tipos distintos, cada uno consolidado de forma diferente.</span><span class="sxs-lookup"><span data-stu-id="a61cf-157">Advanced hunting data can be categorized into two distinct types, each consolidated differently.</span></span>

- <span data-ttu-id="a61cf-158">**Datos de eventos o actividades:** rellena tablas sobre alertas, eventos de seguridad, eventos del sistema y evaluaciones rutinarias.</span><span class="sxs-lookup"><span data-stu-id="a61cf-158">**Event or activity data**—populates tables about alerts, security events, system events, and routine assessments.</span></span> <span data-ttu-id="a61cf-159">La búsqueda avanzada recibe estos datos casi inmediatamente después de que los sensores que los recopilan los transmitan correctamente a Defender for Endpoint.</span><span class="sxs-lookup"><span data-stu-id="a61cf-159">Advanced hunting receives this data almost immediately after the sensors that collect them successfully transmit them to Defender for Endpoint.</span></span>
- <span data-ttu-id="a61cf-160">**Datos de entidad:** rellena tablas con información consolidada sobre usuarios y dispositivos.</span><span class="sxs-lookup"><span data-stu-id="a61cf-160">**Entity data**—populates tables with consolidated information about users and devices.</span></span> <span data-ttu-id="a61cf-161">Estos datos proceden de orígenes de datos relativamente estáticos y orígenes dinámicos, como entradas de Active Directory y registros de eventos.</span><span class="sxs-lookup"><span data-stu-id="a61cf-161">This data comes from both relatively static data sources and dynamic sources, such as Active Directory entries and event logs.</span></span> <span data-ttu-id="a61cf-162">Para proporcionar datos nuevos, las tablas se actualizan con cualquier información nueva cada 15 minutos, agregando filas que podrían no estar completamente rellenadas.</span><span class="sxs-lookup"><span data-stu-id="a61cf-162">To provide fresh data, tables are updated with any new information every 15 minutes, adding rows that might not be fully populated.</span></span> <span data-ttu-id="a61cf-163">Cada 24 horas, los datos se consolidan para insertar un registro que contiene el conjunto de datos más reciente y completo sobre cada entidad.</span><span class="sxs-lookup"><span data-stu-id="a61cf-163">Every 24 hours, data is consolidated to insert a record that contains the latest, most comprehensive data set about each entity.</span></span>

## <a name="time-zone"></a><span data-ttu-id="a61cf-164">Zona horaria</span><span class="sxs-lookup"><span data-stu-id="a61cf-164">Time zone</span></span>

<span data-ttu-id="a61cf-165">La información de hora en la búsqueda avanzada se encuentra actualmente en la zona horaria UTC.</span><span class="sxs-lookup"><span data-stu-id="a61cf-165">Time information in advanced hunting is currently in the UTC time zone.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a61cf-166">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="a61cf-166">Related topics</span></span>

- [<span data-ttu-id="a61cf-167">Aprender el lenguaje de consulta</span><span class="sxs-lookup"><span data-stu-id="a61cf-167">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="a61cf-168">Trabajar con resultados de consulta</span><span class="sxs-lookup"><span data-stu-id="a61cf-168">Work with query results</span></span>](advanced-hunting-query-results.md)
- [<span data-ttu-id="a61cf-169">Usar consultas compartidas</span><span class="sxs-lookup"><span data-stu-id="a61cf-169">Use shared queries</span></span>](advanced-hunting-shared-queries.md)
- [<span data-ttu-id="a61cf-170">Entender el esquema</span><span class="sxs-lookup"><span data-stu-id="a61cf-170">Understand the schema</span></span>](advanced-hunting-schema-reference.md)
- [<span data-ttu-id="a61cf-171">Aplicar procedimientos recomendados de consulta</span><span class="sxs-lookup"><span data-stu-id="a61cf-171">Apply query best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="a61cf-172">Introducción a las detecciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="a61cf-172">Custom detections overview</span></span>](overview-custom-detections.md)
