---
title: 'Información general: búsqueda avanzada'
description: Obtenga más información sobre las consultas de búsqueda avanzada en Microsoft 365 y cómo usarlas para encontrar de forma proactiva amenazas y debilidades en la red
keywords: caza avanzado, caza de amenazas, búsqueda de amenazas en el ciberespacio, protección contra amenazas de Microsoft, Microsoft 365, MTP, M365, búsqueda, consulta, telemetría, detecciones personalizadas, esquema, kusto, Microsoft 365, protección contra amenazas de Microsoft
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: microsoft-365-enterprise
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: lomayor
author: lomayor
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: a1fa80d79c1802d96fc755def3b8ec15af13b0c9
ms.sourcegitcommit: 51097b18d94da20aa727ebfbeb6ec84c263b25c3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/12/2020
ms.locfileid: "46649408"
---
# <a name="proactively-hunt-for-threats-with-advanced-hunting-in-microsoft-threat-protection"></a><span data-ttu-id="80670-104">Búsqueda proactiva de amenazas con la búsqueda avanzada en la Protección contra amenazas de Microsoft</span><span class="sxs-lookup"><span data-stu-id="80670-104">Proactively hunt for threats with advanced hunting in Microsoft Threat Protection</span></span>

<span data-ttu-id="80670-105">**Se aplica a:**</span><span class="sxs-lookup"><span data-stu-id="80670-105">**Applies to:**</span></span>
- <span data-ttu-id="80670-106">Protección contra amenazas de Microsoft</span><span class="sxs-lookup"><span data-stu-id="80670-106">Microsoft Threat Protection</span></span>

[!INCLUDE [Prerelease information](../includes/prerelease.md)]

<span data-ttu-id="80670-107">La búsqueda avanzada es una herramienta de búsqueda de amenazas basada en consulta que le permite explorar hasta 30 días de datos sin procesar.</span><span class="sxs-lookup"><span data-stu-id="80670-107">Advanced hunting is a query-based threat-hunting tool that lets you explore up to 30 days of raw data.</span></span> <span data-ttu-id="80670-108">Puede inspeccionar eventos de forma proactiva en su red para localizar indicadores y entidades interesantes.</span><span class="sxs-lookup"><span data-stu-id="80670-108">You can proactively inspect events in your network to locate interesting indicators and entities.</span></span> <span data-ttu-id="80670-109">El acceso flexible a los datos facilita la búsqueda sin restricciones de las amenazas conocidas y potenciales.</span><span class="sxs-lookup"><span data-stu-id="80670-109">The flexible access to data facilitates unconstrained hunting for both known and potential threats.</span></span>
<p></p>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4Bp7O]

<span data-ttu-id="80670-110">Puede usar las mismas consultas de búsqueda de amenazas para crear reglas de detección personalizadas.</span><span class="sxs-lookup"><span data-stu-id="80670-110">You can use the same threat-hunting queries to build custom detection rules.</span></span> <span data-ttu-id="80670-111">Estas reglas se ejecutan automáticamente para buscar diversos eventos y estados del sistema, como actividades de vulneración sospechosas y equipos mal configurados, y responder a ellos.</span><span class="sxs-lookup"><span data-stu-id="80670-111">These rules run automatically to check for and respond to various events and system states, including suspected breach activity and misconfigured machines.</span></span>

<span data-ttu-id="80670-112">La característica es similar a la [búsqueda avanzada en ATP de Microsoft defender](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview), excepto que en el centro de seguridad de Microsoft 365, la búsqueda avanzada admite consultas que buscan datos de varias áreas de trabajo, incluidos datos sobre dispositivos, mensajes de correo electrónico, aplicaciones e identidades de ATP de Microsoft defender, Office 365 ATP, Microsoft Cloud App Security y Azure ATP.</span><span class="sxs-lookup"><span data-stu-id="80670-112">The feature is similar to [advanced hunting in Microsoft Defender ATP](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview), except that in the Microsoft 365 security center, advanced hunting supports queries that look into data from various workspaces, including data about devices, emails, apps, and identities from Microsoft Defender ATP, Office 365 ATP, Microsoft Cloud App Security, and Azure ATP.</span></span> <span data-ttu-id="80670-113">Para usar la búsqueda avanzada, [active la Protección contra amenazas de Microsoft](mtp-enable.md).</span><span class="sxs-lookup"><span data-stu-id="80670-113">To use advanced hunting, [turn on Microsoft Threat Protection](mtp-enable.md).</span></span>

## <a name="get-started-with-advanced-hunting"></a><span data-ttu-id="80670-114">Introducción a la búsqueda avanzada</span><span class="sxs-lookup"><span data-stu-id="80670-114">Get started with advanced hunting</span></span>

<span data-ttu-id="80670-115">Le recomendamos que siga los pasos siguientes para empezar a trabajar rápidamente con la búsqueda avanzada.</span><span class="sxs-lookup"><span data-stu-id="80670-115">We recommend going through several steps to quickly get up and running with advanced hunting.</span></span>

| <span data-ttu-id="80670-116">Objetivo de aprendizaje</span><span class="sxs-lookup"><span data-stu-id="80670-116">Learning goal</span></span> | <span data-ttu-id="80670-117">Descripción</span><span class="sxs-lookup"><span data-stu-id="80670-117">Description</span></span> | <span data-ttu-id="80670-118">Recurso</span><span class="sxs-lookup"><span data-stu-id="80670-118">Resource</span></span> |
|--|--|--|
| <span data-ttu-id="80670-119">**Conozca el idioma**</span><span class="sxs-lookup"><span data-stu-id="80670-119">**Get a feel for the language**</span></span> | <span data-ttu-id="80670-120">La búsqueda avanzada se basa en el [lenguaje de consulta Kusto](https://docs.microsoft.com/azure/kusto/query/)y admite la misma sintaxis y operadores.</span><span class="sxs-lookup"><span data-stu-id="80670-120">Advanced hunting is based on [Kusto query language](https://docs.microsoft.com/azure/kusto/query/), supporting the same syntax and operators.</span></span> <span data-ttu-id="80670-121">Empiece a aprender el lenguaje de consulta mediante la ejecución de la primera consulta.</span><span class="sxs-lookup"><span data-stu-id="80670-121">Start learning the query language by running your first query.</span></span> | [<span data-ttu-id="80670-122">Introducción al lenguaje de consulta</span><span class="sxs-lookup"><span data-stu-id="80670-122">Query language overview</span></span>](advanced-hunting-query-language.md) |
| <span data-ttu-id="80670-123">**Obtener información sobre cómo usar los resultados de la consulta**</span><span class="sxs-lookup"><span data-stu-id="80670-123">**Learn how to use the query results**</span></span> | <span data-ttu-id="80670-124">Obtenga información sobre los gráficos y las distintas formas en que puede ver o exportar los resultados.</span><span class="sxs-lookup"><span data-stu-id="80670-124">Learn about charts and various ways you can view or export your results.</span></span> <span data-ttu-id="80670-125">Explore cómo puede ajustar rápidamente las consultas, profundizar para obtener información más enriquecida y tomar medidas de respuesta.</span><span class="sxs-lookup"><span data-stu-id="80670-125">Explore how you can quickly tweak queries, drill down to get richer information, and take response actions.</span></span> | <span data-ttu-id="80670-126">- [Trabajar con los resultados de la consulta](advanced-hunting-query-results.md)</span><span class="sxs-lookup"><span data-stu-id="80670-126">- [Work with query results](advanced-hunting-query-results.md)</span></span><br><span data-ttu-id="80670-127">- [Realizar acciones en los resultados de la consulta](advanced-hunting-take-action.md)</span><span class="sxs-lookup"><span data-stu-id="80670-127">- [Take action on query results](advanced-hunting-take-action.md)</span></span> |
| <span data-ttu-id="80670-128">**Entender el esquema**</span><span class="sxs-lookup"><span data-stu-id="80670-128">**Understand the schema**</span></span> | <span data-ttu-id="80670-129">Obtenga una visión adecuada y de alto nivel de las tablas en el esquema y sus columnas.</span><span class="sxs-lookup"><span data-stu-id="80670-129">Get a good, high-level understanding of the tables in the schema and their columns.</span></span> <span data-ttu-id="80670-130">Esto le ayudará a determinar dónde buscar datos y cómo crear las consultas.</span><span class="sxs-lookup"><span data-stu-id="80670-130">This will help you determine where to look for data and how to construct your queries.</span></span> | [<span data-ttu-id="80670-131">Referencia del esquema</span><span class="sxs-lookup"><span data-stu-id="80670-131">Schema reference</span></span>](advanced-hunting-schema-tables.md) |
| <span data-ttu-id="80670-132">**Aprovechar consultas predefinidas**</span><span class="sxs-lookup"><span data-stu-id="80670-132">**Leverage predefined queries**</span></span> | <span data-ttu-id="80670-133">Explore colecciones de consultas predefinidas que cubren diferentes escenarios de búsqueda de amenazas.</span><span class="sxs-lookup"><span data-stu-id="80670-133">Explore collections of predefined queries covering different threat hunting scenarios.</span></span> | <span data-ttu-id="80670-134">- [Usar consultas compartidas](advanced-hunting-shared-queries.md)</span><span class="sxs-lookup"><span data-stu-id="80670-134">- [Use shared queries](advanced-hunting-shared-queries.md)</span></span><br><span data-ttu-id="80670-135">- [Ir a la búsqueda](advanced-hunting-go-hunt.md)</span><span class="sxs-lookup"><span data-stu-id="80670-135">- [Go hunt](advanced-hunting-go-hunt.md)</span></span> |
| <span data-ttu-id="80670-136">**Optimizar las consultas**</span><span class="sxs-lookup"><span data-stu-id="80670-136">**Optimize queries**</span></span> | <span data-ttu-id="80670-137">Obtenga información acerca de cómo crear consultas eficientes y consultas que combinan datos de mensajes de correo electrónico y dispositivos.</span><span class="sxs-lookup"><span data-stu-id="80670-137">Understand how to create efficient queries and queries that combine data from emails and devices.</span></span> | <span data-ttu-id="80670-138">- [Procedimientos recomendados de consulta](advanced-hunting-shared-queries.md)</span><span class="sxs-lookup"><span data-stu-id="80670-138">- [Query best practices](advanced-hunting-shared-queries.md)</span></span> <br><span data-ttu-id="80670-139">- [Búsqueda en dispositivos y correos electrónicos](advanced-hunting-best-practices.md)</span><span class="sxs-lookup"><span data-stu-id="80670-139">- [Hunt across devices and emails](advanced-hunting-best-practices.md)</span></span> |
| <span data-ttu-id="80670-140">**Crear reglas de detección personalizadas**</span><span class="sxs-lookup"><span data-stu-id="80670-140">**Create custom detection rules**</span></span> | <span data-ttu-id="80670-141">Comprenda cómo puede usar consultas de búsqueda avanzada para desencadenar alertas y aplicar acciones de respuesta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="80670-141">Understand how you can use advanced hunting queries to trigger alerts and apply response actions automatically.</span></span> | <span data-ttu-id="80670-142">- [Información general sobre las detecciones personalizadas](custom-detections-overview.md)</span><span class="sxs-lookup"><span data-stu-id="80670-142">- [Custom detections overview](custom-detections-overview.md)</span></span><br><span data-ttu-id="80670-143">- [Reglas de detección personalizadas](custom-detection-rules.md)</span><span class="sxs-lookup"><span data-stu-id="80670-143">- [Custom detection rules](custom-detection-rules.md)</span></span> |

## <a name="get-access"></a><span data-ttu-id="80670-144">Obtener acceso</span><span class="sxs-lookup"><span data-stu-id="80670-144">Get access</span></span>
<span data-ttu-id="80670-145">Para usar características de búsqueda avanzada u otras capacidades de [Microsoft Threat Protection](microsoft-threat-protection.md) , debe tener asignado un rol apropiado en Azure ad.</span><span class="sxs-lookup"><span data-stu-id="80670-145">To use advanced hunting or other [Microsoft Threat Protection](microsoft-threat-protection.md) capabilities, you need to be assigned an appropriate role in Azure AD.</span></span> <span data-ttu-id="80670-146">Tenga en cuenta que el acceso a los datos de los extremos se ve influenciado por la configuración de control de acceso basada en roles en ATP de Microsoft defender.</span><span class="sxs-lookup"><span data-stu-id="80670-146">Note that your access to endpoint data is influenced by role-based access control settings in Microsoft Defender ATP.</span></span> [<span data-ttu-id="80670-147">Obtener información acerca de la administración del acceso a protección contra amenazas de Microsoft</span><span class="sxs-lookup"><span data-stu-id="80670-147">Read about managing access to Microsoft Threat Protection</span></span>](mtp-permissions.md)

## <a name="data-freshness-and-update-frequency"></a><span data-ttu-id="80670-148">Actualización de datos y frecuencia de actualización</span><span class="sxs-lookup"><span data-stu-id="80670-148">Data freshness and update frequency</span></span>
<span data-ttu-id="80670-149">Los datos de búsqueda avanzada pueden clasificarse en dos tipos distintos, cada uno de ellos consolidado de manera diferente.</span><span class="sxs-lookup"><span data-stu-id="80670-149">Advanced hunting data can be categorized into two distinct types, each consolidated differently.</span></span>

- <span data-ttu-id="80670-150">**Datos de eventos o actividades** : se rellenan tablas sobre alertas, eventos de seguridad, eventos del sistema y evaluaciones rutinarias.</span><span class="sxs-lookup"><span data-stu-id="80670-150">**Event or activity data** — populates tables about alerts, security events, system events, and routine assessments.</span></span> <span data-ttu-id="80670-151">La búsqueda avanzada recibe estos datos casi inmediatamente después de que los sensores que los recopilan los transmitan correctamente a los servicios en la nube correspondientes.</span><span class="sxs-lookup"><span data-stu-id="80670-151">Advanced hunting receives this data almost immediately after the sensors that collect them successfully transmit them to the corresponding cloud services.</span></span> <span data-ttu-id="80670-152">Por ejemplo, puede empezar a consultar datos de eventos de sensores saludables en estaciones de trabajo o controladores de dominio casi inmediatamente después de que estén disponibles en Microsoft defender ATP y Azure ATP.</span><span class="sxs-lookup"><span data-stu-id="80670-152">For example, you can start to query event data from healthy sensors on workstations or domain controllers almost immediately after they are available on Microsoft Defender ATP and Azure ATP.</span></span>
- <span data-ttu-id="80670-153">**Datos de entidad** : rellena tablas con información consolidada acerca de los usuarios y los dispositivos.</span><span class="sxs-lookup"><span data-stu-id="80670-153">**Entity data** — populates tables with consolidated information about users and devices.</span></span> <span data-ttu-id="80670-154">Estos datos proceden de orígenes de datos relativamente estáticos, como entradas de Active Directory y fuentes dinámicas, como registros de eventos.</span><span class="sxs-lookup"><span data-stu-id="80670-154">This data comes from both relatively static data sources, such as Active Directory entries, and dynamic sources, such as event logs.</span></span> <span data-ttu-id="80670-155">Para proporcionar datos nuevos, las tablas se actualizan cada 15 minutos con cualquier información nueva, agregando filas que puede que no se llenen completamente.</span><span class="sxs-lookup"><span data-stu-id="80670-155">To provide fresh data, tables are updated every 15 minutes with any new information, adding rows that might not be fully populated.</span></span> <span data-ttu-id="80670-156">Cada 24 horas, los datos se consolidan para insertar un registro que contenga el conjunto de datos más reciente y completo sobre cada entidad.</span><span class="sxs-lookup"><span data-stu-id="80670-156">Every 24 hours, data is consolidated to insert a record that contains the latest, most comprehensive data set about each entity.</span></span>

## <a name="related-topics"></a><span data-ttu-id="80670-157">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="80670-157">Related topics</span></span>
- [<span data-ttu-id="80670-158">Aprender el lenguaje de consulta</span><span class="sxs-lookup"><span data-stu-id="80670-158">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="80670-159">Trabajar con resultados de consulta</span><span class="sxs-lookup"><span data-stu-id="80670-159">Work with query results</span></span>](advanced-hunting-query-results.md)
- [<span data-ttu-id="80670-160">Realizar una acción en los resultados de consulta</span><span class="sxs-lookup"><span data-stu-id="80670-160">Take action on query results</span></span>](advanced-hunting-take-action.md)
- [<span data-ttu-id="80670-161">Usar consultas compartidas</span><span class="sxs-lookup"><span data-stu-id="80670-161">Use shared queries</span></span>](advanced-hunting-shared-queries.md)
- [<span data-ttu-id="80670-162">Búsqueda en dispositivos, mensajes de correo electrónico, aplicaciones e identidades</span><span class="sxs-lookup"><span data-stu-id="80670-162">Hunt across devices, emails, apps, and identities</span></span>](advanced-hunting-query-emails-devices.md)
- [<span data-ttu-id="80670-163">Entender el esquema</span><span class="sxs-lookup"><span data-stu-id="80670-163">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="80670-164">Aplicar procedimientos recomendados de consulta</span><span class="sxs-lookup"><span data-stu-id="80670-164">Apply query best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="80670-165">Introducción a las detecciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="80670-165">Custom detections overview</span></span>](custom-detections-overview.md)
